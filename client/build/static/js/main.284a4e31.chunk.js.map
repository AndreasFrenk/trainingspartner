{"version":3,"sources":["_helpers/authHeader.ts","services/userService.ts","actions/users.ts","components/landingpage/LoginModal.tsx","components/landingpage/RegistrationModal.tsx","assets/cycling.jpg","assets/logo_small.png","components/landingpage/Landingpage.tsx","_helpers/protectedRoute.js","services/postService.ts","actions/posts.ts","components/auth/feed-postCard.tsx","components/auth/feed.tsx","assets/placeholder_profile.jpeg","components/auth/nearUsers.tsx","components/chat/socket.ts","components/chat/chat.tsx","assets/wallpapersden.com_tony-hawk-s-pro-skater-1-remaster_wxl.jpg","components/profile.tsx","components/otherProfile.tsx","components/editProfile.tsx","components/page-components/navbar.tsx","App.js","reportWebVitals.js","reducers/authentication.ts","reducers/nearUsers.ts","reducers/posts.ts","reducers/users.ts","reducers/index.js","reducers/registration.ts","index.js"],"names":["authHeader","user","JSON","parse","localStorage","getItem","token","userURL","login","a","username","password","axios","post","response","handleResponse","data","setItem","stringify","Promise","reject","logout","removeItem","getAll","get","headers","getNearUsers","id","_id","getById","register","userParam","updateImage","image","userId","storedUser","updatedUser","Object","assign","console","log","updateProfile","profile","updateUser","getCurrent","userService","getStoredUserName","getStoredUserId","getUserProfileImg","profileImage","getStoredUser","status","dispatch","type","then","error","message","getCurrentUser","userActions","users","LoginModal","setShowModal","useDispatch","useEffect","window","addEventListener","handleKeyDown","removeEventListener","authentication","useSelector","state","useState","setUsername","setPassword","e","key","closeModal","modalRef","React","useRef","onClick","current","contains","target","handleClickOutside","className","ref","onSubmit","preventDefault","htmlFor","value","onChange","placeholder","failure","RegistrationModal","registration","email","setEmail","registered","required","Landingpage","history","authenticated","showLoginModal","setShowLoginModal","showRegistrationModal","setShowRegistrationModal","openModal","modal","prev","loggedIn","edited","push","src","logo","style","backgroundImage","ProtectedRoute","Component","component","restOfProps","isAuthenticated","render","props","to","postURL","remove","delete","update","postParam","patch","like","comment","create","postService","posts","userProfile","createdAt","Date","toUTCString","likes","index","FeedPostCard","date","toLocaleString","commentMessage","setcommentMessage","location","city","text","includes","xmlns","viewBox","fill","fillRule","d","clipRule","stroke","strokeLinecap","strokeLinejoin","strokeWidth","length","comments","map","Feed","postMessage","setpostMessage","NearUsers","nearUsers","placeHolderImage","bios","sports","sport","connection","io","connect","userName","emit","defaultUser","userID","dbUserID","Chat","setMessage","allMessages","setAllMessages","allUsers","setAllUsers","messageReciever","setmessageReciever","setdbUserID","chatRef","on","prevUsers","findIndex","entry","handleMessages","sender","receiver","chat","prevMessages","messages","chatMessages","recievedUsers","forEach","disconnect","sendMessage","msg","alert","width","height","chatMessage","onKeyDown","Profile","userid","age","OtherProfile","useParams","profileImg","EditProfile","editUser","setEditUser","fileSelected","setFileSelected","imageChanged","setImageChanged","setImage","submit","setSubmit","sendUpdateUser","uploadImage","setTimeout","handleChange","name","previousUser","newUser","newProfile","conditionalChaining","promiseResult","newLocation","loc","coordinates","latitude","longitude","country","handleSubmit","resolve","dataInfo","item","catch","previewImage","fileReader","FileReader","this","result","readAsDataURL","FormData","append","accept","fileList","files","handleImageChange","Navbar","openMenu","setOpenMenu","dropdownMenu","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","nearUserReducers","action","postsReducer","newComment","slice","newLike","userReducers","loading","combineReducers","loggingIn","registering","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.284a4e31.chunk.js","sourcesContent":["export const authHeader = () => {\n    // return authorization header with jwt token\n    let user = JSON.parse(localStorage.getItem('user')!)\n\n    if (user && user.token) {\n        return { 'Authorization': 'Bearer ' + user.token };\n    } else {\n        return {};\n    }\n}","import axios, { AxiosResponse } from \"axios\";\nimport { errorMonitor } from \"events\";\nimport { authHeader } from \"../_helpers/authHeader\";\n\nexport interface IUser {\n  username?: string;\n  email?: string;\n  password?: string;\n  profileImage?: FormData;\n  profile?: {\n    sports: Array<string>;\n    age: Number;\n    location: {\n      city: string;\n      country: string;\n      loc: {\n        type: string;\n        coordinates: Array<Number>;\n      };\n    };\n  };\n}\n\nconst userURL = \"http://localhost:5000/users\";\n\nconst login = async ({ username, password }: IUser) => {\n  try {\n    const response = await axios.post(userURL + \"/authenticate\", {\n      username,\n      password,\n    });\n    const data = await handleResponse(response);\n    localStorage.setItem(\"user\", JSON.stringify(data));\n    return data;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n};\n\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\n\nconst getUserProfileImg = () => {\n  let user = JSON.parse(localStorage.getItem(\"user\")!);\n  if (user?.profileImage) {\n    return user?.profileImage;\n  }\n  return \"\";\n};\n\nconst getStoredUser = () => {\n  let user = JSON.parse(localStorage.getItem(\"user\")!);\n  if (!user) return \"\" \n  return user\n};\n\nconst getStoredUserName = () => {\n  let user = JSON.parse(localStorage.getItem(\"user\")!);\n  if (user?.username) {\n    return user.username;\n  }\n  return \"\";\n};\n\nconst getStoredUserId = () => {\n  let user = JSON.parse(localStorage.getItem(\"user\")!);\n  if (user?._id) {\n    return user?._id;\n  }\n  return \"\";\n};\n\nconst getAll = async () => {\n  try {\n    const response = await axios.get(userURL, { headers: authHeader });\n    const data = await handleResponse(response);\n    return data;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n};\n\nconst getNearUsers = async () => {\n  try {\n    let user = JSON.parse(localStorage.getItem(\"user\")!);\n    const id = user._id;\n    const response = await axios.get(userURL + \"/findNearBy/\" + id, {\n      headers: authHeader(),\n    });\n    const data = await handleResponse(response);\n    return data;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n};\n\nconst getById = async (id: String) => {\n  try {\n    const response = await axios.get(userURL + \"/\" + id, {\n      headers: authHeader(),\n    });\n    const data = await handleResponse(response);\n    return data;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n};\n\nconst register = async (userParam: IUser) => {\n  try {\n    const response = await axios.post(userURL + \"/register\", userParam);\n    const data = await handleResponse(response);\n    return data;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n};\n\nconst updateImage = async (image: FormData) => {\n  try {\n    const user = JSON.parse(localStorage.getItem(\"user\")!);\n    const userId = user?._id;\n    const response = await axios.post(\n      userURL + \"/profileImage/\" + userId,\n      image,\n      { headers: authHeader() }\n    );\n    const data = await handleResponse(response);\n    if (data !== 404) {\n    const storedUser = localStorage.getItem(\"user\") as string;\n    const updatedUser = Object.assign(JSON.parse(storedUser), data)\n    console.log(updatedUser)\n    localStorage.setItem(\"user\", JSON.stringify(updatedUser));\n    }\n    return data;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n};\n\nconst updateProfile = async (profile: IUser) => {\n  try {\n    const user = JSON.parse(localStorage.getItem(\"user\")!);\n    const userId = user?._id;\n    const response = await axios.post(\n      userURL + \"/updateProfile/\" + userId,\n      profile,\n      { headers: authHeader() }\n    );\n    const data = await handleResponse(response);\n    // localStorage.setItem(\"user\", JSON.stringify(data));\n    return data;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n\nconst updateUser = async (profile: IUser) => {\n  try {\n    const user = JSON.parse(localStorage.getItem(\"user\")!);\n    const userId = user?._id;\n    const response = await axios.post(\n      userURL + \"/updateUser/\" + userId,\n      profile,\n      { headers: authHeader() }\n    );\n    const data = await handleResponse(response);\n    if (data !== 404) {\n    const storedUser = localStorage.getItem(\"user\") as string;\n    const updatedUser = Object.assign(JSON.parse(storedUser), data)\n    console.log(updatedUser)\n    localStorage.setItem(\"user\", JSON.stringify(updatedUser));\n    }\n    return data;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n\nconst getCurrent = async () => {\n  try {\n    const { data } = await axios.get(userURL + \"/current\", {\n      headers: authHeader(),\n    });\n    return data;\n  } catch (error) {\n    logout();\n    return Promise.reject(error);\n  }\n};\n\nexport const userService = {\n  login,\n  logout,\n  getAll,\n  getById,\n  register,\n  getCurrent,\n  getStoredUserName,\n  getStoredUserId,\n  getUserProfileImg,\n  getStoredUser,\n  updateImage,\n  getNearUsers,\n  updateProfile,\n  updateUser\n};\n\nconst handleResponse = (response: AxiosResponse) => {\n  const data = response.data;\n  if (response.status === 401) {\n    // auto logout if 401 response returned from api + TODO:push back to login route\n    logout();\n  }\n  return data;\n};\n","\nimport { useHistory } from 'react-router-dom'\nimport { Action } from 'redux'\nimport { userService, IUser } from '../services/userService'\n\n\n//action creators\nexport const getUsers = () => async (dispatch: any) => {\n    dispatch({type: 'GETALL_REQUEST'})\n    userService.getAll().then(\n        users => {\n            dispatch({type: 'GETALL_SUCCESS', users})\n        },\n        error => {\n            dispatch({type: 'GETALL_FAILURE'}, error)\n        }\n    )\n}\n\nexport const register = (userParam: IUser) => async (dispatch: any) => {\n    dispatch({type:'REGISTER_REQUEST'})\n    userService.register(userParam).then(\n        user => {\n            dispatch({type: 'REGISTER_SUCCESS', user})\n            //Push history\n        },\n        error => {\n            dispatch({type: 'REGISTER_FAILURE', error: error.response.data.message})\n            //dispatch Alert Function\n        }\n    )\n}\n\n\nexport const login = ({username, password}: IUser)  => (dispatch: any) => {\n        dispatch({type:'LOGIN_REQUEST', username })\n        userService.login({username, password})\n            .then(\n                user => {\n                    dispatch({type: 'LOGIN_SUCCESS', user})\n                },\n                error => {\n                    dispatch({type: 'LOGIN_FAILURE',  error: error.response.data.message})\n                    //dispatch Alert Function\n                }\n            )\n}\n\nexport const logout = () => (dispatch: any) => {\n    userService.logout()\n    dispatch({type:'LOGOUT'})\n}\n\nexport const getCurrentUser = () => async (dispatch: any) => {\n    userService.getCurrent()\n    .then(\n        user => {\n            dispatch({type: 'LOGIN_SUCCESS', user})\n            //Push history\n        },\n        error => {\n            dispatch({type: 'LOGIN_FAILURE'}, error)\n            //dispatch Alert Function\n        }\n    )\n}\n\nexport const getNearUsers = () => async (dispatch: any) => {\n    userService.getNearUsers()\n    .then(\n        users => {\n            dispatch({type: 'GET_NEAR_SUCCESS', users})\n            //Push history\n        },\n        error => {\n            dispatch({type: 'GET_NEAR_FAILURE', error})\n            //dispatch Alert Function\n        }\n    )\n}\n\nexport const getById = (id: string) => async (dispatch: any) => {\n    userService.getById(id)\n    .then(\n        user => {\n            console.log(user)\n            dispatch({type: 'GET_BYID_SUCCESS', user})\n            //Push history\n        },\n        error => {\n            dispatch({type: 'GET_BYID_FAILURE', error})\n            //dispatch Alert Function\n        }\n    )\n}\n\nexport const updateImage = (profileImage: FormData) => async (dispatch: any) => {\n    dispatch({type:'UPDATEIMAGE_REQUEST'})\n    userService.updateImage(profileImage as FormData).then(\n        user => {\n            dispatch({type: 'UPDATEIMAGE_SUCCESS', user})\n            //Push history\n        },\n        error => {\n            dispatch({type: 'UPDATEIMAGE_FAILURE'}, error)\n            //dispatch Alert Function\n        }\n    )\n}\n\n// export const updateProfile = (userParam: IUser) => async (dispatch: any) => {\n//     dispatch({type:'UPDATEPROFILE_REQUEST'})\n//     userService.updateImage(userParam.profileImage as FormData).then(\n//         user => {\n//             dispatch({type: 'UPDATEPROFILE_SUCCESS', user})\n//             //Push history\n//         },\n//         error => {\n//             dispatch({type: 'UPDATEPROFILE_FAILURE'}, error)\n//             //dispatch Alert Function\n//         }\n//     )\n// }\n\nexport const updateUser = (userParam: IUser) => async (dispatch: any) => {\n    dispatch({type:'UPDATEUSER_REQUEST'})\n    userService.updateUser(userParam).then(\n        user => {\n            dispatch({type: 'UPDATEUSER_SUCCESS', user})\n            //Push history\n        },\n        error => {\n            dispatch({type: 'UPDATEUSER_FAILURE'}, error)\n            //dispatch Alert Function\n        }\n    )\n}\n\nexport const userActions = {\n    getUsers,\n    getCurrentUser,\n    logout,\n    login,\n    register,\n    updateImage,\n    getNearUsers,\n    getById,\n    // updateProfile,\n    updateUser\n}","import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { login, logout } from \"../../actions/users\";\n\ninterface Props {\n  setShowModal: React.Dispatch<boolean>;\n}\n\nconst LoginModal: React.FC<Props> = ({ setShowModal }) => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, []);\n\n  const authentication = useSelector((state: any) => state.authentication);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleKeyDown = (e: KeyboardEvent) => {\n    if (e.key === \"Escape\") {\n      closeModal();\n    }\n  };\n  \n  const closeModal = () => {\n    setShowModal(false);\n    dispatch({type: 'LOGIN_RESET'})\n  };\n  const modalRef = React.useRef<HTMLInputElement>(null);\n\n  const handleClickOutside = (\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>\n  ): void => {\n    if (!modalRef.current?.contains(e.target as Node)) {\n      closeModal();\n    }\n  };\n\n  const  onSubmit  = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    dispatch(login({ username, password }));\n  };\n\n  return (\n    <div\n      onClick={(e) => handleClickOutside(e)}\n      className=\"bg-black bg-opacity-50 absolute inset-0 flex\n    justify-center items-center\"\n    >\n      <div ref={modalRef} className=\"bg-white max-w-sm py-4 px-20 shadow-xl\">\n        <div className=\"flex justify-center items-center\">\n          <h1 className=\"text-blue-500 font-bold text-xl\">Sign In</h1>\n        </div>\n        <div className=\"mt-2 text-sm\">\n          <form onSubmit={(e) => onSubmit(e)}>\n            <div className=\"mb-4\">\n              <label\n                className=\"block text-gray-600 text-sm font-bold mb-2\"\n                htmlFor=\"userName\"\n              >\n                Username\n              </label>\n              <input\n                className=\"shadow appearance-none border  w-full py-2 px-3 text-gray-700 leading-tight  focus:outline-none focus:shadow-outline\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                type=\"text\"\n                placeholder=\"Username\"\n                id=\"username\"\n              />\n            </div>\n            <div>\n              <label\n                className=\"block text-gray-600 text-sm font-bold mb-2\"\n                htmlFor=\"password\"\n              >\n                Password\n              </label>\n              <input\n                type=\"password\"\n                className=\"shadow appearance-none border  w-full py-2 px-3 text-gray-700 leading-tight  focus:outline-none focus:shadow-outline\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Password\"\n                id=\"password\"\n              />\n            </div>\n            {\n                            authentication.failure ? <p className=\"text-red-600 py-2 px-3\">{authentication.error}</p> : \"\"\n                        }\n            <div className=\"mt-5 flex justify-center space-x-3\">\n              <input\n                type=\"submit\"\n                value=\"Log In\"\n                className=\"px-3 py-1 bg-blue-400 text-white hover:bg-opacity-80\"\n                id=\"submit\"\n              />\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginModal;\n","import React, { useState, useEffect, FormEvent } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {register} from '../../actions/users'\n\ninterface Props {\n    setShowModal: React.Dispatch<boolean>\n}\n\nconst RegistrationModal: React.FC<Props> = ({setShowModal})=>{\n\n    \n    const registration = useSelector((state: any) => state.registration);\n    const [username, setUsername] = useState(\"\")\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    \n    const modalRef = React.useRef<HTMLInputElement>(null)\n    \n    useEffect(() => {\n        window.addEventListener(\"keydown\", handleKeyDown)\n        return () => {\n            window.removeEventListener(\"keydown\", handleKeyDown)\n        }\n    }, [])\n\n    useEffect(() => {\n        if (registration.registered) {\n            closeModal()\n        }\n    }, [registration])\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n        if(e.key === 'Escape') {\n            closeModal()\n        }\n    }\n\n    const closeModal = () => {\n        setShowModal(false)\n        dispatch({type: 'REGISTER_RESET'})\n    }\n\n    const handleClickOutside = (e: React.MouseEvent<HTMLDivElement, MouseEvent>): void => {\n        if (!modalRef.current?.contains(e.target as Node)) {\n            closeModal()\n        }\n    }\n\n    const dispatch = useDispatch()\n\n    const onSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault()\n        dispatch(register({ username, password, email }))\n    }\n\n  return (\n    <div onClick={(e) => handleClickOutside(e)} className=\"bg-black bg-opacity-50 absolute inset-0 flex\n    justify-center items-center\">\n            <div ref={modalRef} className=\"bg-white max-w-sm py-4 px-20 shadow-xl\">\n                <div className=\"flex justify-center items-center\">\n                    <h1 className=\"text-blue-500 font-bold text-xl\">Registration</h1>\n                </div>\n                <div className=\"mt-2 text-sm\">\n                    <form onSubmit={(e) => onSubmit(e)}>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-600 text-sm font-bold mb-2\" htmlFor=\"username\">Username</label>\n                            <input className=\"shadow appearance-none border  w-full py-2 px-3 text-gray-700 leading-tight  focus:outline-none focus:shadow-outline\" id=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} type=\"text\" required placeholder=\"Username\" />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-600 text-sm font-bold mb-2\" htmlFor=\"email\">Email</label>\n                            <input className=\"shadow appearance-none border  w-full py-2 px-3 text-gray-700 leading-tight  focus:outline-none focus:shadow-outline\" id=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" required placeholder=\"Email\"/>\n                        </div>\n                        <div>\n                            <label className=\"block text-gray-600 text-sm font-bold mb-2\" htmlFor=\"password\">Password</label>\n                            <input className=\"shadow appearance-none border  w-full py-2 px-3 text-gray-700 leading-tight  focus:outline-none focus:shadow-outline\" id=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} type=\"password\" required placeholder=\"Password\"/>\n                        </div>\n                        {\n                            registration.failure ? <p className=\"text-red-600 py-2 px-3\">{registration.error}</p> : \"\"\n                        }\n                        <div className=\"mt-5 flex justify-center space-x-3\">\n                             <input id=\"submit\" type=\"submit\" value=\"Register\" className=\"font-bold   px-8 py-1 bg-blue-400 text-white hover:bg-opacity-80\"/>\n                        </div>\n                    </form>\n                </div>\n            </div>\n    </div>\n  )\n}\n\nexport default RegistrationModal;\n","export default __webpack_public_path__ + \"static/media/cycling.034efe72.jpg\";","export default __webpack_public_path__ + \"static/media/logo_small.99417289.png\";","import React, { Component, useState, useEffect} from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { userActions, logout } from \"../../actions/users\";\n\nimport \"../../styles/landingpage.scss\";\nimport LoginModal from \"./LoginModal\";\nimport RegistrationModal from \"./RegistrationModal\";\nimport backgroundImage from \"../../assets/cycling.jpg\";\nimport logo from \"../../assets/logo_small.png\";\ninterface Props extends RouteComponentProps {\n\n}\n\nconst Landingpage: React.FC<Props> = ({history})=>{\n  const dispatch = useDispatch()\n  const authenticated = useSelector((state: any) => state.authentication);\n  const [showLoginModal, setShowLoginModal] = useState(false)\n  const [showRegistrationModal, setShowRegistrationModal] = useState(false)\n  const openModal = (modal: String) => {\n    if (modal === 'Login') {\n      setShowLoginModal(prev => !prev)\n    } else if (modal === \"Register\")\n     setShowRegistrationModal(prev => !prev)\n  }\n\n  useEffect(() => {\n    dispatch(userActions.getCurrentUser())\n  }, []);\n\n  useEffect(() => {\n    if (authenticated.loggedIn && authenticated.user.edited) {\n      history.push('/home')\n    }\n    if (authenticated.loggedIn && !authenticated.user.edited) {\n      console.log(authenticated)\n      history.push('/edit-profile')\n    }\n  }, [authenticated]);\n\n  return (\n    <div>\n        <div className=\"bg-primary flex w-full justify-between py-1 px-12 absolute\">\n            <img src={logo} className=\"max-h-10\"></img>\n            <div className=\"navbar__right self-center\">\n          <button id=\"login\" className=\"navbar__link pl-5 text-secondary\" onClick={() => openModal('Login')}>Anmelden</button>\n        </div>\n        </div>\n       <div className=\"big-banner h-screen w-full bg-cover\" style={{backgroundImage: `url(${backgroundImage})`,}}>\n\n        <div className=\"grid grid-cols-2 mx-20 gap-4 text-secondary pt-80\">\n            <div></div>\n         <div className=\"bg-primary text-lg rounded-md bg-opacity-75 p-3\">\n             <p >Du suchst einen Trainingspartner? Dann bist du hier genau richtig! Finde einen Partner fr dein nchstes Workout. \n              <button id=\"registration\" onClick={() => openModal('Register')} className=\"font-bold px-1 navbar__link\">Jetzt registrieren</button>\n             </p>\n           </div> \n        </div>\n    </div>\n    {showRegistrationModal? <RegistrationModal setShowModal={setShowRegistrationModal}></RegistrationModal> : \"\"}\n    {showLoginModal? <LoginModal setShowModal={setShowLoginModal}></LoginModal> : \"\"}\n    </div>\n  )\n}\n\nexport default Landingpage;\n","import React, {useEffect} from 'react'\nimport { getCurrentUser } from \"../actions/users\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\n\n\n    \nexport const ProtectedRoute = ({ component: Component, ...restOfProps }) => {\n        const dispatch = useDispatch();\n        const authenticated = useSelector((state) => state.authentication);\n        useEffect(() => {\n            dispatch(getCurrentUser())\n        }, []);\n        const isAuthenticated = localStorage.getItem(\"user\") ? true : false;        \n    return (\n      <Route\n        {...restOfProps}\n        render={(props) =>\n          isAuthenticated ? <Component {...props} /> : <Redirect to=\"/\" />\n        }\n      />\n    );\n  }","import axios, { AxiosResponse } from 'axios'\nimport { authHeader } from '../_helpers/authHeader'\n\nexport interface IPosts {\n    username?: string,\n    user: string,\n    text?: string,\n}\n\nconst postURL = \"http://localhost:5000/posts\"\n\nconst remove = async (id: string) => {\n    try {\n       const {data} = await axios.delete(postURL + '/' + id, {headers: authHeader()}) \n       return data\n    } catch (error) {\n        return Promise.reject(error)\n    }\n}\n\nconst update = async (id: string, postParam: IPosts) => {\n    try {\n       const {data} = await axios.patch(postURL + '/' + id , postParam, {headers: authHeader()}) \n       return data\n    } catch (error) {\n        return Promise.reject(error)\n    }\n}\n\nconst like = async (id: string, postParam: IPosts) => {\n    try {\n       const {data} = await axios.post(postURL + '/' + id + '/like', postParam, {headers: authHeader()}) \n       return data\n    } catch (error) {\n        return Promise.reject(error)\n    }\n}\n\nconst comment = async (id: string, postParam: IPosts) => {\n    try {\n       const {data} = await axios.post(postURL + '/' + id + '/comment', postParam, {headers: authHeader()}) \n       return data\n    } catch (error) {\n        return Promise.reject(error)\n    }\n}\n\nconst create = async (postParam: IPosts) => {\n    try {\n        const {data} = await axios.post(postURL, postParam, {headers: authHeader()})\n        return data\n    } catch (error) {\n    return Promise.reject(error)\n    }\n}\n\n\nconst getAll = async () => {\n    try {\n        const {data} = await axios.get(postURL,{headers: authHeader()})\n        return data\n    } catch (error) {\n        return Promise.reject(error)\n    }\n}\n\nexport const postService = {\n    getAll,\n    like,\n    comment,\n    create,\n    update,\n    remove\n}\n","import { useSelector } from 'react-redux'\nimport { postService, IPosts } from '../services/postService'\nimport { IUser } from '../services/userService'\n\n\n//action creators\nexport const getAll = () => async (dispatch: any) => {\n    dispatch({type: 'GETALL_POSTS_REQUEST'})\n    console.log('getting posts')\n    postService.getAll().then(\n        posts => {\n            console.log(posts)\n            dispatch({type: 'GETALL_POSTS_SUCCESS', posts})\n        },\n        error => {\n            console.log(error)\n            dispatch({type: 'GETALL_POSTS_FAILURE', error})\n        }\n    )\n}\n\nexport const create = (postParam: IPosts, userProfile: IUser) => async (dispatch: any) => {\n    dispatch({type:'CREATE_POST'})\n    const newPost = {\n        ...postParam,\n        createdAt: new Date().toUTCString(),\n        userProfile: [userProfile],\n        likes: [] \n    }\n    postService.create(postParam).then(\n        post => {\n            dispatch(getAll());\n        },\n        error => {\n            dispatch({type: 'CREATE_POST_FAILURE', error: error.response.data.message})\n            //dispatch Alert Function\n        }\n    )\n}\n\n\nexport const comment = (id: string, postParam: IPosts, index: Number)  => (dispatch: any) => {\n        dispatch({type:'COMMENT_POST_REQUEST'})\n        postService.comment(id, postParam)\n            .then(\n                post => {\n                    dispatch({type: 'COMMENT_POST_SUCCESS', id, postParam, index})\n                },\n                error => {\n                    dispatch({type: 'COMMENT_POST_FAILURE',  error: error.response.data.message})\n                    //dispatch Alert Function\n                }\n            )\n}\n\nexport const like = (id: string, postParam: IPosts, index:Number) => (dispatch: any) => {\n    postService.like(id, postParam)\n        .then(\n            post => {\n                dispatch({type: 'LIKE_POST_SUCCESS', id, user: postParam.user, index})\n            },\n            error => {\n                dispatch({type: 'LIKE_POST_FAILURE', error})\n            }\n        )\n}\n\nexport const remove = (id: string) => async (dispatch: any) => {\n    postService.remove(id)\n    .then(\n        post => {\n            dispatch({type: 'REMOVE_POST_SUCCESS', post})\n            //Push history\n        },\n        error => {\n            dispatch({type: 'REMOVE_POST_FAILURE'}, error)\n            //dispatch Alert Function\n        }\n    )\n}\n\nexport const update = (id: string, postParam: IPosts) => async (dispatch: any) => {\n    postService.update(id, postParam)\n    .then(\n        posts => {\n            dispatch({type: 'UPDATE_COMMENT_SUCCESS', posts})\n        },\n        error => {\n            dispatch({type: 'UPDATE_COMMMENT_FAILURE', error})\n            //dispatch Alert Function\n        }\n    )\n}\nexport const postActions = {\n    getAll,\n    remove,\n    update,\n    comment,\n    like,\n    create\n}","import React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { BaseSyntheticEvent } from \"react-router/node_modules/@types/react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { comment, like } from \"../../actions/posts\";\n\nfunction FeedPostCard(props: any) {\n  const dispatch = useDispatch();\n  const date = new Date(props.post.createdAt).toLocaleString();\n  const [commentMessage, setcommentMessage] = useState(\"\");\n  const changeCommentMessage = (event: BaseSyntheticEvent) => {\n    setcommentMessage(event.target.value);\n  };\n /* const user = JSON.parse(\n    useSelector((state: any) => state.authentication).user\n  );*/\n  const user = JSON.parse(localStorage.getItem('user')!)\n  const submitComment = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    dispatch(\n      comment(\n        props.post._id,\n        {\n          username: user.username,\n          user: user._id,\n          text: commentMessage,\n        },\n        props.index\n      )\n    );\n    setcommentMessage(\"\");\n  };\n  const likeComment = () => {\n    dispatch(\n      like(props.post._id, {\n        user: user._id,\n      }, \n      props.index)\n    );\n  };\n  useEffect(() => {}, []);\n  return (\n    <div className=\"bg-white mx-64 my-5 border-2 border-gray-50 rounded-lg\">\n      <div className=\"px-3 py-1\">\n        <span className=\"text-xl\">{props.post.userProfile[0].username}, </span>\n        <span>{props.post.userProfile[0].profile.location.city}</span>\n        <span className=\"pl-3\">{date}</span>\n      </div>\n      <div className=\"px-3 pb-1\">{props.post.text}</div>\n      <div className=\"px-3\">\n        {props.post.likes.includes(user._id) ? (\n          <div className=\"text-red-500 inline\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-5 w-5 inline\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\"\n                clipRule=\"evenodd\"\n              />\n            </svg>\n          </div>\n        ) : (\n          <button onClick={() => likeComment()}>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-6 w-6 inline\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n              />\n            </svg>\n          </button>\n        )}\n        {props.post.likes.length > 0 ? (\n          <p className=\"text-red-500 inline align-middle pl-1\">\n            {props.post.likes.length}\n          </p>\n        ) : (\n          \"\"\n        )}\n      </div>\n      <div className=\"my-3 mx-2 border-2 rounded-lg\">\n        <form onSubmit={(e) => submitComment(e)}>\n          <input\n            className=\"w-full p-1\"\n            type=\"text\"\n            placeholder=\"Write a comment..\"\n            value={commentMessage}\n            onChange={(e) => changeCommentMessage(e)}\n          ></input>\n        </form>\n      </div>\n      {props.post.comments\n        ? props.post.comments.map((comment: any, index: string) => (\n            <div key={index} className=\"my-4 mx-2 bg-gray-100 rounded-lg\">\n              <p className=\"px-2 text-sm font-bold\">{comment.username}</p>\n              <p className=\"px-3 pb-2 text-sm\">{comment.text}</p>\n            </div>\n          ))\n        : \"\"}\n    </div>\n  );\n}\n\nexport default FeedPostCard;\n","import { userActions } from '../../actions/users'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { create, getAll } from '../../actions/posts';\nimport { useEffect , useState} from 'react'; \nimport FeedPostCard from './feed-postCard';\nimport Navbar from './navbar';\nimport { BaseSyntheticEvent, SyntheticEvent } from 'react-router/node_modules/@types/react';\n\nexport const Feed = () => {\n    const dispatch = useDispatch()\n    const posts = useSelector((state: any) => state.posts).posts\n   // const user = useSelector((state:any) => state.authentication).user\n   const user = JSON.parse(localStorage.getItem('user')!)\n   // const user = JSON.parse(useSelector((state:any) => state.authentication).user)\n    const [postMessage, setpostMessage] = useState(\"\")\n    const changePostMessage = (event: BaseSyntheticEvent) => {\n        setpostMessage(event.target.value)\n    }\n    const submitPost = (event: React.FormEvent<HTMLFormElement>)=> {\n        event.preventDefault()\n        dispatch(create({\n            user: user._id,\n            text: postMessage\n        }, user))\n        setpostMessage(\"\")\n    }\n    useEffect(() => {\n        dispatch(getAll())\n    }, [])\n    return (\n        <div>\n            <div className=\"pt-20 bg-gray-100\">\n            <div className=\"bg-white mx-64 my-4 border rounded-lg\">\n                <form onSubmit={(e) => submitPost(e)}>\n\n                <input className=\"p-1 rounded-lg w-full\" type=\"text\" placeholder=\"Post something here...\" value={postMessage} onChange={(e)=>changePostMessage(e)}></input>\n                </form>\n            </div>\n            {posts?\n            <div className=\"\">\n\n                {posts.map((post:any , index:string) => (\n                    <FeedPostCard index={index} post={post} key={index}></FeedPostCard>\n                )) }\n            </div> :\n            <div>Loading</div>}\n            </div>\n        </div>\n    )\n}\n","export default \"data:image/jpeg;base64,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\"","import React, { useEffect } from \"react\";\nimport { userActions } from \"../../actions/users\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport placeHolderImage from \"../../assets/placeholder_profile.jpeg\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\ninterface props extends RouteComponentProps {\n\n}\n\nexport const NearUsers: React.FC<props> = ({history}) => {\n  const dispatch = useDispatch();\n  const nearUsers = useSelector((state: any) => state.nearUsers);\n  useEffect(() => {\n    dispatch(userActions.getNearUsers());\n  }, []);\n\n  // mockUsers for testing without internet\n  const mockUsers = [\n    {\n      username: \"User1\",\n      profile: {\n        bios: \"Hi Im User 1 i'd like to blalblasdihasduhd agfausfafd asgasufhaf asbfgaisf gasuidas diuahsf\",\n        age: 12,\n        sports: [\"Fahrrad\", \"Laufen\"],\n        location: {\n          city: \"Moosburg\",\n          country: \"Germany\",\n        },\n      },\n    },\n\n    {\n      username: \"User1\",\n      profileImage: \"/static/media/tony_hawks_pro_skater_2020.f77ae5be.jpeg\",\n      profile: {\n        bios: \"Hi Im User 1 i'd like to blalblasdihasduhd agfausfafd asgasufhaf asbfgaisf gasuidas diuahsf\",\n        age: 12,\n        sports: [\"Fahrrad\", \"Laufen\"],\n        location: {\n          city: \"Moosburg\",\n          country: \"Germany\",\n        },\n      },\n    },\n  ];\n\n  return nearUsers.user ? (\n    <div>\n      <div className=\"pt-20\">\n\n      <h1 className=\"text-gray-700 text-2xl px-4 py-5\">Nearby Users</h1>\n      <div className=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-6 py-2 px-8\">\n        {nearUsers.user.map((user: any, index: number) => (\n          <div\n            key={index}\n            className=\"overflow-hidden shadow-lg transform transition duration-500 hover:scale-110 cursor-pointer\"\n            onClick={() => {history.push(`/profile/${user?._id}`)}}\n          >\n            <img\n              className=\"w-full max-h-28 object-contain\"\n              src={user.profileImage ? user.profileImage : placeHolderImage}\n            ></img>\n            <div className=\"py-4 px-4\">\n              <div className=\"font-bold text-xl\">\n                {user.username}\n                <span className=\"font-ligh text-sm text-gray-700 pl-3\">\n                  {user.profile.location.city}\n                </span>\n              </div>\n              <p className=\"text-gray-700\">{user.profile.bios}</p>\n            </div>\n            <div className=\"px-4 py-4\">\n              {user.profile.sports.map((sport: String, index: number) => (\n                <span\n                  key={index}\n                  className=\"bg-gray-200 px-2 py-2 mx-3 inline-block\"\n                >\n                  {sport}\n                </span>\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n      </div>\n    </div>\n  ) : (\n<div>\n\n<div>Loading</div>\n</div>\n  );\n};\n","import io from \"socket.io-client\";\nimport { userService } from \"../../services/userService\";\n\nconst connection = io(\"localhost:3030\");\nconnection.connect();\n\nconst userName = userService.getStoredUserName()\n  ? userService.getStoredUserName()\n  : \"\";\nconnection.emit(\"new user\", userName);\n\nexport { connection };\n","import { useState, useEffect, Key, useRef } from \"react\";\nimport { connection } from \"./socket\";\nimport { userService } from \"../../services/userService\";\nimport \"../../styles/chat.scss\";\n\ninterface chatMessage {\n  username: string;\n  message: string;\n  sender: string;\n  receiver: string;\n}\ninterface user {\n  username: string;\n  userID: string;\n  dbUserID: string;\n}\ninterface chat {\n  chat: string;\n  chatMessages: chatMessage[];\n}\n\nconst defaultUser = {\n  username: \"all\",\n  userID: \"all\",\n  dbUserID: \"all\",\n};\n\nconst Chat: React.FC = () => {\n  const [message, setMessage] = useState<string>(\"\");\n  const [allMessages, setAllMessages] = useState<chat[]>([]);\n  const [allUsers, setAllUsers] = useState<user[]>([]);\n  const [messageReciever, setmessageReciever] = useState<user | null>(null);\n  const userName = userService.getStoredUserName();\n  const [dbUserID, setdbUserID] = useState<string>(\"\");\n  const chatRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const dbUserID = userService.getStoredUserId();\n    setdbUserID(dbUserID);\n    connection.emit(\"new user\", userName, dbUserID);\n  }, []);\n  useEffect(() => {\n    connection.on(\"user connected\", (user) => {\n      setAllUsers((prevUsers: user[]) => {\n        const users = [...prevUsers];\n        const index = users.findIndex(\n          (entry) => entry?.userID === user?.userID\n        );\n        if (index === -1) {\n          users.push(user);\n        }\n        return users;\n      });\n    });\n\n    const handleMessages = ({\n      username,\n      message,\n      sender,\n      receiver,\n      chat,\n    }: {\n      username: string;\n      message: string;\n      sender: string;\n      receiver: string;\n      chat: string;\n    }) => {\n      setAllMessages((prevMessages: chat[]) => {\n        const messages = [...prevMessages];\n        let index;\n        index = prevMessages.findIndex((entry) => entry.chat === chat);\n        if (index !== -1) {\n          const entry = [...prevMessages[index].chatMessages];\n          entry.push({\n            username: username,\n            message: message,\n            sender: sender,\n            receiver: receiver,\n          });\n          messages[index] = { ...messages[index], chatMessages: entry };\n          return messages;\n        } else {\n          messages.push({\n            chat: chat,\n            chatMessages: [\n              {\n                username: username,\n                message: message,\n                sender: sender,\n                receiver: receiver,\n              },\n            ],\n          });\n\n          return messages;\n        }\n      });\n    };\n    connection.on(\n      \"private message\",\n      ({\n        username,\n        message,\n        sender,\n        receiver,\n        chat,\n      }: {\n        username: string;\n        sender: string;\n        message: string;\n        receiver: string;\n        chat: string;\n      }) => {\n        handleMessages({\n          username: username,\n          receiver: receiver,\n          sender: sender,\n          message: message,\n          chat: chat,\n        });\n      }\n    );\n    connection.on(\n      \"private message sent\",\n      ({\n        username,\n        message,\n        sender,\n        receiver,\n        chat,\n      }: {\n        username: string;\n        sender: string;\n        message: string;\n        receiver: string;\n        chat: string;\n      }) => {\n        console.log(\"receiver: \" + receiver);\n        console.log(\"dbUserID: \" + dbUserID);\n        console.log(allUsers);\n\n        handleMessages({\n          username: username,\n          receiver: receiver,\n          sender: sender,\n          message: message,\n          chat: chat,\n        });\n      }\n    );\n\n    connection.on(\"users\", (recievedUsers: user[]) => {\n      setAllUsers(() => {\n        const users = [] as user[];\n        recievedUsers.forEach((user: user) => {\n          if (user.dbUserID !== dbUserID) {\n            users.push(user);\n          }\n        });\n        return users;\n      });\n    });\n\n    connection.on(\n      \"chat message\",\n      ({\n        username,\n        sender,\n        message,\n        receiver,\n        chat,\n      }: {\n        username: string;\n        sender: string;\n        message: string;\n        receiver: string;\n        chat: string;\n      }) => {\n        handleMessages({\n          username: username,\n          receiver: receiver,\n          sender: sender,\n          message: message,\n          chat: chat,\n        });\n      }\n    );\n\n    return () => {\n      connection.disconnect();\n    };\n  }, []);\n\n  const sendMessage = () => {\n    if (!messageReciever) {\n      alert(\"Message could not be sent. Please select a user.\");\n      return;\n    }\n    if (message.length === 0) return;\n    if (messageReciever.userID === \"all\") {\n      connection.emit(\"chat message\", {\n        username: userName,\n        msg: message,\n        sender: dbUserID,\n        receiver: messageReciever.userID,\n        chat: messageReciever.dbUserID,\n      });\n    } else {\n      connection.emit(\"private message\", {\n        username: userName,\n        msg: message,\n        sender: dbUserID,\n        receiver: messageReciever.userID,\n        chat: messageReciever.dbUserID,\n      });\n    }\n\n    setMessage(\"\");\n  };\n\n  const handleKeyDown = (e: Key) => {\n    if (e === \"Enter\") {\n      sendMessage();\n    }\n  };\n\n  const handleClickOutside = (\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>\n  ): void => {\n    if (!chatRef.current?.contains(e.target as Node)) {\n      // setmessageReciever(null)\n    }\n  };\n\n  return (\n    <div\n      className=\"flex w-100 chat-container m-auto border-2 h-4/6\"\n      onClick={(e) => handleClickOutside(e)}\n    >\n      <div\n        className={`${\n          !messageReciever ? \"\" : \"hidden\"\n        } flex sm:flex flex-col flex-1 border-r-2 p-4`}\n        ref={chatRef}\n      >\n        <div>Users:</div>\n        <div\n          className={`p-4 w-full cursor-pointer ${\n            messageReciever?.dbUserID === \"all\" ? \"active\" : \"\"\n          }`}\n          onClick={() => setmessageReciever(defaultUser)}\n        >\n          all\n        </div>\n        {allUsers && allUsers.length > 0\n          ? allUsers.map((user: user, index: number) => {\n              return dbUserID === user.dbUserID ? null : (\n                <div\n                  key={index}\n                  className={`p-4 w-full cursor-pointer ${\n                    messageReciever?.dbUserID === user.dbUserID ? \"active\" : \"\"\n                  }`}\n                  onClick={() => setmessageReciever(user)}\n                >\n                  <div className=\"flex\">\n                    <div className=\"\">{user.username}</div>\n                  </div>\n                </div>\n              );\n            })\n          : null}\n      </div>\n      <div\n        className={`${\n          !!messageReciever ? \"flex\" : \"hidden\"\n        } sm:flex flex-col flex-2 p-4`}\n      >\n        {messageReciever ? (\n          <div className=\"justify-center flex relative items-center border-2 w-full\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              viewBox=\"0 0 16 16\"\n              className=\"absolute left-0 sm:hidden\"\n              onClick={() => {\n                setmessageReciever(null);\n              }}\n            >\n              <path d=\"M10 12.796V3.204L4.519 8 10 12.796zm-.659.753-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z\" />\n            </svg>\n            <div className=\"font-bold m-auto\">{messageReciever?.username}</div>\n          </div>\n        ) : null}\n        <div className=\"message-container h-full pt-2\">\n          {allMessages && allMessages.length > 0\n            ? allMessages[\n                allMessages.findIndex(\n                  (entry) => entry.chat === messageReciever?.dbUserID\n                )\n              ]?.chatMessages?.map(\n                (chatMessage: chatMessage, index: number) => {\n                  return (\n                    <div key={index} className=\"w-full\">\n                      {chatMessage.sender === dbUserID ? (\n                        <div className=\"flex justify-end mb-2\">\n                          <div className=\"mr-3 message-send\">\n                            {chatMessage.message}\n                          </div>\n                          {/* <div>:You</div> */}\n                        </div>\n                      ) : (\n                        <div className=\"flex\">\n                          <div className=\"message-received mr-3 flex flex-col mb-2\">\n                            <div>{chatMessage.username}:</div>\n                            <div>{chatMessage.message}</div>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  );\n                }\n              )\n            : null}\n        </div>\n        <div className=\"flex border-2 justify-between message-input-container\">\n          <input\n            className=\"flex-1\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyDown={(e) => handleKeyDown(e.key)}\n            type=\"text\"\n            placeholder=\"Message\"\n            id=\"username\"\n          />\n          <button\n            onClick={() => {\n              sendMessage();\n            }}\n          >\n            Send\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","export default __webpack_public_path__ + \"static/media/wallpapersden.com_tony-hawk-s-pro-skater-1-remaster_wxl.341d2652.jpg\";","import React, {  useEffect } from \"react\";\nimport backgroundImage from \"../assets/wallpapersden.com_tony-hawk-s-pro-skater-1-remaster_wxl.jpg\";\nimport \"../styles/utils.scss\";\nimport \"../styles/pages/profile.scss\";\nimport { userService } from \"../services/userService\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { userActions } from \"../actions/users\";\nimport { useParams } from \"react-router-dom\";\nimport placeHolderImage from \"../assets/placeholder_profile.jpeg\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\ninterface props extends RouteComponentProps {\n\n}\n\nexport const Profile: React.FC<props> = ({history}) => {\n  const dispatch = useDispatch();\n  const userid = userService.getStoredUserId();\n  const user = useSelector((state: any) => state.users?.user);\n\n  useEffect(() => {\n        dispatch(userActions.getById(userid));\n  }, []);\n\n  return user ? (\n    <div>\n    <div>\n      <div\n        className=\"w-full mb-6 background\"\n        style={{ backgroundImage: `url(${backgroundImage})` }}\n      ></div>\n      <div className=\"content\">\n        <img\n          className=\"rounded profile__image -mt-32\"\n          src={user.profileImage ? user.profileImage : placeHolderImage}\n        ></img>\n        <div className=\"flex mt-4 justify-between w-full\">\n          <div>\n            <div className=\"font-bold text-xl\">{user?.username}</div>\n            {user?.profile?.sports?.map((sport: String, index: number) => (\n              <span\n                key={index}\n                className=\"bg-gray-200 px-2 py-2 inline-block mr-3 mt-3 rounded-lg\"\n              >\n                {sport}\n              </span>\n            ))}\n            <div className=\"mt-2 text-xl\">{user?.profile?.location?.city}</div>\n          </div>\n          <div>\n            <div className=\"mt-2 text-base cursor-pointer\"\n            onClick={() => {\n              history.push('/edit-profile')\n            }}\n            >Edit</div>\n            <div className=\"mt-2 text-lg font-bold\">Age</div>\n            <div className=\"mt-2\">{user?.profile?.age}</div>\n          </div>\n        </div>\n        </div>\n      </div>\n      <div className=\"profile__interests\">\n        <div></div>\n      </div>\n    </div>\n  ) : null;\n};\n","import React, {  useEffect } from \"react\";\nimport backgroundImage from \"../assets/wallpapersden.com_tony-hawk-s-pro-skater-1-remaster_wxl.jpg\";\nimport \"../styles/utils.scss\";\nimport \"../styles/pages/profile.scss\";\nimport { userService } from \"../services/userService\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { userActions } from \"../actions/users\";\nimport { useParams } from \"react-router-dom\";\nimport placeHolderImage from \"../assets/placeholder_profile.jpeg\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\ninterface props extends RouteComponentProps {\n\n}\n\nexport const OtherProfile: React.FC<props> = ({history}) => {\n  const dispatch = useDispatch();\n  const { userid } = useParams() as { userid: string };\n  const user = useSelector((state: any) => state.users?.user);\n\n  useEffect(() => {\n    if (userid) {\n      if (userid === userService.getStoredUserId()) {\n        history.push('/profile')\n      } else {\n        dispatch(userActions.getById(userid));\n      }\n    } else {\n      alert(\"no user found\");\n    }\n  }, []);\n\n  return user ? (\n    <div>\n      <div\n        className=\"w-full mb-6 background\"\n        style={{ backgroundImage: `url(${backgroundImage})` }}\n      ></div>\n      <div className=\"content\">\n        <img\n          className=\"rounded profile__image -mt-32\"\n          src={user.profileImg ? user.profileImg : placeHolderImage}\n        ></img>\n        <div className=\"flex mt-4 justify-between w-full\">\n          <div>\n            <div className=\"font-bold text-xl\">{user?.username}</div>\n            {user?.profile?.sports?.map((sport: String, index: number) => (\n              <span\n                key={index}\n                className=\"bg-gray-200 px-2 py-2 inline-block mr-3 mt-3 rounded-lg\"\n              >\n                {sport}\n              </span>\n            ))}\n          </div>\n          <div>\n            <div className=\"mt-2 text-lg font-bold\">Age</div>\n            <div className=\"mt-2\">{user?.profile?.age}</div>\n          </div>\n        </div>\n      </div>\n      <div className=\"profile__interests\">\n        <div></div>\n      </div>\n    </div>\n  ) : null;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RouteComponentProps } from \"react-router\";\nimport { userActions } from \"../actions/users\";\nimport { userService } from \"../services/userService\";\nimport placeHolderImage from \"../assets/placeholder_profile.jpeg\";\nimport \"../styles/utils.scss\";\nimport axios from \"axios\";\n\ninterface props extends RouteComponentProps {}\n\nexport const EditProfile: React.FC<props> = ({ history }) => {\n  const dispatch = useDispatch();\n  // const user = useSelector((state: any) => state.users?.user);\n  const user = userService.getStoredUser();\n  const [editUser, setEditUser] = useState<any>(user?.profile);\n  const [fileSelected, setFileSelected] = React.useState<Blob>();\n  const [imageChanged, setImageChanged] = React.useState<boolean>();\n  const [image, setImage] = React.useState<string>();\n  const [submit, setSubmit] = React.useState<boolean>(false);\n  // useEffect(() => {\n  //   const userid = userService.getStoredUserId();\n  //   dispatch(userActions.getById(userid));\n  // }, []);\n  useEffect(() => {\n    setEditUser(user);\n  }, [user]);\n\n  useEffect(() => {\n    if (submit) {\n      sendUpdateUser();\n    }\n  }, [editUser]);\n\n  const sendUpdateUser = () => {\n    if (imageChanged) {\n      uploadImage();\n    }\n    dispatch(userActions.updateUser(editUser));\n    //hacky stuff going on here, should implement some dispatch thunk stuff\n    //to wait for dispatch to finish\n    setTimeout(() => {\n      history.push(\"/profile\");\n    }, 2000);\n  };\n\n  const handleChange = (e: Event, profile: boolean, location?: boolean) => {\n    e.preventDefault();\n    const target = e.target as HTMLInputElement;\n    const value = target.value as string;\n    const name = target.name as string;\n\n    setEditUser((previousUser: any) => {\n      let newUser = { ...previousUser };\n      if (profile) {\n        if (location) {\n          let newProfile = { ...previousUser.profile };\n          Object.assign(newProfile, { location: { [name]: value } });\n          Object.assign(newUser, { profile: newProfile });\n        } else {\n          let newProfile = { ...previousUser.profile };\n          Object.assign(newProfile, { [name]: value });\n          Object.assign(newUser, { profile: newProfile });\n        }\n      } else {\n        Object.assign(newUser, { [name]: value });\n      }\n      return newUser;\n    });\n  };\n\n  const checkCity = () =>\n    new Promise((resolve, reject) => {\n      const city = editUser?.profile?.location?.city;\n      if (!city) {\n        resolve(true);\n        return;\n      }\n      axios\n        .get(\n          `http://geodb-free-service.wirefreethought.com/v1/geo/cities?namePrefix=${city}`\n        )\n        .then((response) => {\n          if (!response) {\n            reject(\"city not found\");\n            return;\n          }\n          const allData = response.data?.data;\n          let dataInfo: any;\n          allData.forEach((item: any) => {\n            if (item?.city === city) {\n              dataInfo = item;\n            }\n          });\n          if (!dataInfo) {\n            reject(\"city not found\");\n            return;\n          }\n\n          console.log(\"true\");\n          resolve(dataInfo);\n        });\n    });\n\n  const conditionalChaining = (promiseResult: any) => {\n    if (!promiseResult) {\n      alert(\"city not found\");\n      setSubmit(false);\n      return;\n    }\n    if (promiseResult === true) {\n      sendUpdateUser()\n      return;\n    }\n    console.log(promiseResult);\n    setEditUser((previousUser: any) => {\n      let newUser = { ...previousUser };\n      let newProfile = { ...previousUser.profile };\n      let newLocation = { ...previousUser.profile?.location };\n      const loc = {\n        type: \"Point\",\n        coordinates: [promiseResult.latitude, promiseResult.longitude],\n      };\n      Object.assign(newLocation, { loc: loc, country: promiseResult.country });\n      Object.assign(newProfile, { location: newLocation });\n      Object.assign(newUser, { profile: newProfile });\n      return newUser;\n    });\n  };\n\n  const handleError = (message: string) => {\n    alert(message);\n    setSubmit(false);\n  };\n\n  const handleSubmit = async (e: any) => {\n    e.preventDefault();\n    checkCity()\n      .then(conditionalChaining)\n      .catch((error) => handleError(error));\n  };\n  const handleImageChange = function (e: React.ChangeEvent<HTMLInputElement>) {\n    const fileList = e.target.files;\n    if (!fileList) return;\n    setFileSelected(fileList[0]);\n    previewImage(fileList[0] as Blob);\n  };\n  const previewImage = (profileImage: Blob) => {\n    const fileReader = new FileReader();\n    fileReader.addEventListener(\"load\", function () {\n      if (!this.result) return;\n      setImage(this.result as string);\n      setImageChanged(true);\n    });\n    fileReader.readAsDataURL(profileImage);\n  };\n\n  const uploadImage = () => {\n    const profileImage = new FormData();\n    profileImage.append(\"file\", fileSelected as Blob);\n    dispatch(userActions.updateImage(profileImage));\n  };\n\n  return editUser ? (\n    <div>\n      <div className=\"border-2 p-4 max-w-4xl m-auto light-blue-background rounded-lg\">\n        <div className=\"text-xl underline font-bold text-center pb-3\">\n          Profile Info{\" \"}\n        </div>\n        <div className=\"\">\n          <div className=\"flex sm:flex-row items-end\">\n            <img\n              className=\"rounded  mt-2 w-28 h-28 border-black\"\n              src={\n                image\n                  ? image\n                  : editUser?.profileImage\n                  ? editUser?.profileImage\n                  : placeHolderImage\n              }\n            ></img>\n            <label\n              className=\"mx-2 cursor-pointer flex items-center\"\n              htmlFor=\"image-selector__file-upload-input\"\n            >\n              <div className=\"mr-2 text-base font-bold cursor-pointer\">\n                Edit\n              </div>\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"16\"\n                height=\"16\"\n                fill=\"currentColor\"\n                viewBox=\"0 0 16 16\"\n              >\n                <path d=\"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z\" />\n              </svg>\n            </label>\n            <input\n              type=\"file\"\n              className=\"hidden\"\n              id=\"image-selector__file-upload-input\"\n              accept=\"image/png, image/gif, image/jpeg\"\n              onChange={(e: any) => handleImageChange(e)}\n            />\n          </div>\n          <form onSubmit={(e) => handleSubmit(e)} className=\"mt-8\">\n            {/* <div className=\"flex flex-col sm:flex-row\"> */}\n            <div className=\"flex\">\n              <div className=\"aside mr-3 sm:mr-10 font-bold text-lg\">\n                Username:\n              </div>\n              <div>{editUser?.username}</div>\n            </div>\n            {/* <div className=\"flex sm:flex-row flex-col mt-4\"> */}\n            <div className=\"border-t border-current mt-2\"></div>\n            <div className=\"flex  mt-2\">\n              <div className=\"aside mr-3 sm:mr-10 font-bold text-lg\">Age:</div>\n              <input\n                className=\"flex-grow text-black mr-3 sm:mr-10 bg-transparent cursor-pointer\"\n                name=\"age\"\n                type=\"number\"\n                value={editUser?.profile?.age}\n                onChange={(e) => {\n                  handleChange(e as any, true);\n                }}\n                id=\"age_input\"\n              ></input>\n              <label\n                className=\"flex items-center cursor-pointer\"\n                htmlFor=\"age_input\"\n              >\n                <div className=\"mr-2 text-base font-bold\">Edit</div>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"16\"\n                  height=\"16\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 16 16\"\n                >\n                  <path d=\"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z\" />\n                </svg>\n              </label>\n            </div>\n            <div className=\"border-t border-current mt-2\"></div>\n            <div className=\"flex mt-2\">\n              <div className=\"aside mr-3 sm:mr-10 font-bold text-lg\">\n                Sports:\n              </div>\n              <input\n                className=\"flex-grow text-black mr-3 sm:mr-10 bg-transparent cursor-pointer\"\n                type=\"sports\"\n                name=\"sports\"\n                id=\"sports_input\"\n                value={editUser?.profile?.sports}\n                onChange={(e) => {\n                  handleChange(e as any, true);\n                }}\n              ></input>\n              <label\n                className=\"flex items-center cursor-pointer\"\n                htmlFor=\"sports_input\"\n              >\n                <div className=\"mr-2 text-base font-bold\">Edit</div>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"16\"\n                  height=\"16\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 16 16\"\n                >\n                  <path d=\"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z\" />\n                </svg>\n              </label>\n            </div>\n            <div className=\"border-t border-current mt-2\"></div>\n            <div className=\"flex mt-2\">\n              <div className=\"aside mr-3 sm:mr-10 font-bold text-lg\">City:</div>\n              <input\n                className=\"flex-grow text-black mr-3 sm:mr-10 bg-transparent cursor-pointer\"\n                type=\"text\"\n                name=\"city\"\n                value={editUser?.profile?.location?.city}\n                onChange={(e) => {\n                  handleChange(e as any, true, true);\n                }}\n                id=\"location_input\"\n              ></input>\n              <label\n                className=\"flex items-center cursor-pointer\"\n                htmlFor=\"location_input\"\n              >\n                <div className=\"mr-2 text-base font-bold\">Edit</div>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"16\"\n                  height=\"16\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 16 16\"\n                >\n                  <path d=\"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z\" />\n                </svg>\n              </label>\n            </div>\n            <div className=\"border-t border-current mt-2\"></div>\n            <div className=\"flex justify-center\">\n              <input\n                type=\"submit\"\n                value=\"Save\"\n                className=\"p-3 font-bold rounded-lg mt-3 light-orange-background cursor-pointer\"\n                onClick={() => {\n                  setSubmit(true);\n                }}\n              ></input>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  ) : null;\n};\n","import { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { userActions } from \"../../actions/users\";\nimport { userService } from \"../../services/userService\";\nimport placeHolderImage from \"../../assets/placeholder_profile.jpeg\";\nimport \"../../styles/navbar.scss\";\nexport const Navbar = () => {\n  const dispatch = useDispatch();\n  // const user = useSelector((state: any) => state.users?.user);\n  const user = userService.getStoredUser();\n  const [openMenu, setOpenMenu] = useState<boolean>(false);\n  const dropdownMenu = useRef<HTMLDivElement>(null);\n\n  // useEffect(() => {\n  //   const userid = userService.getStoredUserId();\n  //   dispatch(userActions.getById(userid));\n  // }, []);\n\n  const logout = () => {\n    dispatch(userActions.logout());\n  };\n  const handleClickOutside = (\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>\n  ): void => {\n    console.log(\"handleClickOutside\");\n    if (!dropdownMenu.current?.contains(e.target as Node)) {\n      setOpenMenu(false);\n    }\n  };\n  return user ? (\n    <div className=\"w-full light-orange-background p-2 flex justify-between items-center\">\n      <NavLink to=\"/home\">Home</NavLink>\n      <NavLink to=\"/nearUsers\">Near Users</NavLink>\n      <NavLink to=\"/chat\">Chat</NavLink>\n      <div\n        className={`dropdown ${openMenu ? \"dropdown--open\" : \"\"}`}\n        ref={dropdownMenu}\n        onClick={() => {\n          setOpenMenu(!openMenu);\n        }}\n      >\n        <div className=\"flex items-end cursor-pointer\">\n          <img\n            className=\"rounded  mt-2 w-10 h-10 border-black mr-4\"\n            src={user?.profileImage ? user?.profileImage : placeHolderImage}\n          ></img>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 16 16\"\n            className=\"dropdown__arrow\"\n          >\n            <path d=\"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\" />\n          </svg>\n        </div>\n        <div\n          className={`rounded-md flex-col absolute mt-3 right-0 p-3 mr-1 light-blue-background hidden dropdown__navigation`}\n        >\n          <NavLink to=\"/edit-profile\" className=\"p-2\">\n            Edit\n          </NavLink>\n          <NavLink to=\"/profile\" className=\"p-2\">\n            me\n          </NavLink>\n          <a onClick={() => logout()} className=\"cursor-pointer p-2\">\n            Log Out\n          </a>\n        </div>\n      </div>\n    </div>\n  ) : null;\n};\n","import './App.css';\nimport { BrowserRouter as Router, Route, NavLink, BrowserRouter, Switch } from \"react-router-dom\";\nimport {getUsers} from './actions/users'\nimport Landingpage from './components/landingpage/Landingpage';\nimport React, { useEffect } from 'react';\nimport { useDispatch} from 'react-redux'\nimport {ProtectedRoute} from './_helpers/protectedRoute'\nimport { Home } from './components/auth/home';\nimport { Feed } from './components/auth/feed';\nimport { NearUsers } from './components/auth/nearUsers';\nimport  Chat from './components/chat/chat';\nimport {Profile} from './components/profile';\nimport {OtherProfile} from './components/otherProfile';\nimport { EditProfile } from './components/editProfile';\nimport { Navbar } from './components/page-components/navbar';\n\n\n\nfunction App() {\n  \n  return (\n    <BrowserRouter>\n      <Router>\n          <Switch>\n            <Route path=\"/\" exact component={Landingpage} />\n            <>\n          <Navbar></Navbar>\n            <ProtectedRoute path=\"/edit-profile\" exact component={EditProfile} />\n            <ProtectedRoute path=\"/profile\" exact component={Profile} />\n            <ProtectedRoute path=\"/profile/:userid\" exact component={OtherProfile} />\n            <ProtectedRoute path=\"/nearUsers\" exact component={NearUsers} />\n            <ProtectedRoute path=\"/chat\" exact component={Chat} />\n            <ProtectedRoute path=\"/home\" exact component={Feed}></ProtectedRoute>\n            </>\n          </Switch>\n      </Router>\n    </BrowserRouter>\n  );\n}\n\n           //<ProtectedRoute path=\"/home\" exact component={Home}></ProtectedRoute>\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Action } from \"redux\";\n\nlet user = localStorage.getItem('user')\nconst initialState = user ? { loggedIn: true, user } : {};\n\nexport const authenticationReducer = (state = initialState, action: any) => {\n    switch (action.type) {\n        case 'LOGIN_REQUEST':\n            return {\n                loggingIn: true,\n                user: action.user\n            };\n        case 'LOGIN_SUCCESS':\n            return {\n                loggedIn: true,\n                user: action.user\n            };\n        case 'LOGIN_FAILURE':\n            return {\n                failure: true,\n                error: action.error\n            };\n        case 'LOGOUT':\n            return {\n                loggedIn: false\n            };\n        case 'LOGIN_RESET':\n            return {};\n        default:\n            return state\n    }\n}","\nconst nearUserReducers = (state = {}, action: any) => {\n    switch (action.type) {\n        case 'GET_NEAR_SUCCESS':\n            return action.users\n        case 'GET_NEAR_ERROR':\n            return {error: action.error}\n        default:\n           return state; \n    }\n}\n\nexport default nearUserReducers ","import { strictEqual } from \"assert\"\n\nconst postsReducer = (state:any = {}, action: any) => {\n    switch (action.type) {\n        case 'GETALL_POSTS_SUCCESS':\n            return {posts: action.posts}\n        case 'GETALL_ERROR':\n            return {error: action.error}\n        case 'CREATE_POST_SUCCESS':\n            console.log({posts: action.post})\n            return {posts: action.post}\n            /*\n            console.log({\n                ...state,\n                posts:[{...action.post, ...state.posts}]\n            })\n            return {\n                ...state,\n                posts: [action.post, ...state.posts]\n            } */\n        case 'COMMENT_POST_SUCCESS':\n            const newComment = state.posts[action.index]\n            newComment.comments = [...newComment.comments, action.postParam]\n            return {\n                ...state,\n                posts:[\n                    ...state.posts.slice(0,action.index),\n                    newComment,\n                    ...state.posts.slice(action.index +1)\n                ] \n            }\n        case 'LIKE_POST_SUCCESS':\n            const newLike = state.posts[action.index]\n            newLike.likes = [...newLike.likes, action.user]\n            return {\n                ...state,\n                posts:[\n                    ...state.posts.slice(0,action.index),\n                    newLike,\n                    ...state.posts.slice(action.index +1)\n                ]\n            }\n        default:\n           return state; \n    }\n}\n\nexport default postsReducer","const userReducers = (state = {}, action: any) => {\n  switch (action.type) {\n    case \"GETALL_REQUEST\":\n      return { loading: true };\n    case \"GETALL_SUCCESS\":\n      return { users: action.users };\n    case \"GETALL_ERROR\":\n      return { error: action.error };\n    case \"GET_BYID_SUCCESS\":\n      return { user: action.user };\n    case \"GET_BYID_FAILURE\":\n      return { error: action.error };\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducers;\n","import { combineReducers } from \"redux\";\nimport { authenticationReducer } from \"./authentication\";\nimport nearUserReducers from \"./nearUsers\";\nimport postsReducer from \"./posts\";\nimport { registrationReducer } from \"./registration\";\nimport userReducers from \"./users\";\n\nexport default combineReducers({\n    users: userReducers,\n    authentication: authenticationReducer,\n    registration: registrationReducer,\n    nearUsers: nearUserReducers,\n    posts: postsReducer\n})","import { Action } from \"redux\";\n\n\nexport const registrationReducer = (state = {}, action: any) => {\n    switch (action.type) {\n        case 'REGISTER_REQUEST':\n            return {\n                registering: true,\n            };\n        case 'REGISTER_SUCCESS':\n            return {\n                registered: true,\n            };\n        case 'REGISTER_FAILURE':\n            return {\n                failure: true,\n                error: action.error\n            };\n        case 'REGISTER_RESET':\n            return {}\n        default:\n            return state\n    }\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducers from \"./reducers\";\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\n const store = createStore(\n   reducers,composeEnhancers(\n     applyMiddleware(thunk)\n   ) \n );\n\nReactDOM.render(\n  <Provider store={store}>\n      <React.StrictMode>\n      <App />\n  </React.StrictMode>\n    </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}