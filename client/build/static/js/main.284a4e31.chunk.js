(this.webpackJsonptrainingspartner=this.webpackJsonptrainingspartner||[]).push([[0],{102:function(e,t,r){},135:function(e,t,r){},136:function(e,t,r){},137:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(36),a=r.n(c),i=(r(79),r(80),r(15)),o=r(8),l=r(2),u=r.n(l),d=r(4),p=r(9),j=r.n(p),b=function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}},f="http://localhost:5000/users",m=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,n=t.password,e.prev=1,e.next=4,j.a.post(f+"/authenticate",{username:r,password:n});case 4:return s=e.sent,e.next=7,E(s);case 7:return c=e.sent,localStorage.setItem("user",JSON.stringify(c)),e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){localStorage.removeItem("user")},x=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(f,{headers:b});case 3:return t=e.sent,e.next=6,E(t);case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.parse(localStorage.getItem("user")),r=t._id,e.next=5,j.a.get(f+"/findNearBy/"+r,{headers:b()});case 5:return n=e.sent,e.next=8,E(n);case 8:return s=e.sent,e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(f+"/"+t,{headers:b()});case 3:return r=e.sent,e.next=6,E(r);case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post(f+"/register",t);case 3:return r=e.sent,e.next=6,E(r);case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n,s,c,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(localStorage.getItem("user")),n=null===r||void 0===r?void 0:r._id,e.next=5,j.a.post(f+"/profileImage/"+n,t,{headers:b()});case 5:return s=e.sent,e.next=8,E(s);case 8:return 404!==(c=e.sent)&&(a=localStorage.getItem("user"),i=Object.assign(JSON.parse(a),c),console.log(i),localStorage.setItem("user",JSON.stringify(i))),e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(localStorage.getItem("user")),n=null===r||void 0===r?void 0:r._id,e.next=5,j.a.post(f+"/updateProfile/"+n,t,{headers:b()});case 5:return s=e.sent,e.next=8,E(s);case 8:return c=e.sent,e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n,s,c,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(localStorage.getItem("user")),n=null===r||void 0===r?void 0:r._id,e.next=5,j.a.post(f+"/updateUser/"+n,t,{headers:b()});case 5:return s=e.sent,e.next=8,E(s);case 8:return 404!==(c=e.sent)&&(a=localStorage.getItem("user"),i=Object.assign(JSON.parse(a),c),console.log(i),localStorage.setItem("user",JSON.stringify(i))),e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(f+"/current",{headers:b()});case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),v(),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),S={login:m,logout:v,getAll:x,getById:A,register:O,getCurrent:N,getStoredUserName:function(){var e=JSON.parse(localStorage.getItem("user"));return(null===e||void 0===e?void 0:e.username)?e.username:""},getStoredUserId:function(){var e=JSON.parse(localStorage.getItem("user"));return(null===e||void 0===e?void 0:e._id)?null===e||void 0===e?void 0:e._id:""},getUserProfileImg:function(){var e=JSON.parse(localStorage.getItem("user"));return(null===e||void 0===e?void 0:e.profileImage)?null===e||void 0===e?void 0:e.profileImage:""},getStoredUser:function(){var e=JSON.parse(localStorage.getItem("user"));return e||""},updateImage:g,getNearUsers:h,updateProfile:w,updateUser:y},E=function(e){var t=e.data;return 401===e.status&&v(),t},I=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"REGISTER_REQUEST"}),S.register(e).then((function(e){r({type:"REGISTER_SUCCESS",user:e})}),(function(e){r({type:"REGISTER_FAILURE",error:e.response.data.message})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e){var t=e.username,r=e.password;return function(e){e({type:"LOGIN_REQUEST",username:t}),S.login({username:t,password:r}).then((function(t){e({type:"LOGIN_SUCCESS",user:t})}),(function(t){e({type:"LOGIN_FAILURE",error:t.response.data.message})}))}},_=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.getCurrent().then((function(e){t({type:"LOGIN_SUCCESS",user:e})}),(function(e){t({type:"LOGIN_FAILURE"},e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=_,R=function(){return function(e){S.logout(),e({type:"LOGOUT"})}},U=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"UPDATEIMAGE_REQUEST"}),S.updateImage(e).then((function(e){r({type:"UPDATEIMAGE_SUCCESS",user:e})}),(function(e){r({type:"UPDATEIMAGE_FAILURE"},e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.getNearUsers().then((function(e){t({type:"GET_NEAR_SUCCESS",users:e})}),(function(e){t({type:"GET_NEAR_FAILURE",error:e})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.getById(e).then((function(e){console.log(e),r({type:"GET_BYID_SUCCESS",user:e})}),(function(e){r({type:"GET_BYID_FAILURE",error:e})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"UPDATEUSER_REQUEST"}),S.updateUser(e).then((function(e){r({type:"UPDATEUSER_SUCCESS",user:e})}),(function(e){r({type:"UPDATEUSER_FAILURE"},e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=r(5),G=r(3),M=(r(102),r(0)),F=function(e){var t=e.setShowModal,r=Object(G.b)();Object(n.useEffect)((function(){return window.addEventListener("keydown",b),function(){window.removeEventListener("keydown",b)}}),[]);var c=Object(G.c)((function(e){return e.authentication})),a=Object(n.useState)(""),i=Object(D.a)(a,2),o=i[0],l=i[1],u=Object(n.useState)(""),d=Object(D.a)(u,2),p=d[0],j=d[1],b=function(e){"Escape"===e.key&&f()},f=function(){t(!1),r({type:"LOGIN_RESET"})},m=s.a.useRef(null);return Object(M.jsx)("div",{onClick:function(e){return function(e){var t;(null===(t=m.current)||void 0===t?void 0:t.contains(e.target))||f()}(e)},className:"bg-black bg-opacity-50 absolute inset-0 flex justify-center items-center",children:Object(M.jsxs)("div",{ref:m,className:"bg-white max-w-sm py-4 px-20 shadow-xl",children:[Object(M.jsx)("div",{className:"flex justify-center items-center",children:Object(M.jsx)("h1",{className:"text-blue-500 font-bold text-xl",children:"Sign In"})}),Object(M.jsx)("div",{className:"mt-2 text-sm",children:Object(M.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),r(k({username:o,password:p}))}(e)},children:[Object(M.jsxs)("div",{className:"mb-4",children:[Object(M.jsx)("label",{className:"block text-gray-600 text-sm font-bold mb-2",htmlFor:"userName",children:"Username"}),Object(M.jsx)("input",{className:"shadow appearance-none border  w-full py-2 px-3 text-gray-700 leading-tight  focus:outline-none focus:shadow-outline",value:o,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Username",id:"username"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{className:"block text-gray-600 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),Object(M.jsx)("input",{type:"password",className:"shadow appearance-none border  w-full py-2 px-3 text-gray-700 leading-tight  focus:outline-none focus:shadow-outline",value:p,onChange:function(e){return j(e.target.value)},placeholder:"Password",id:"password"})]}),c.failure?Object(M.jsx)("p",{className:"text-red-600 py-2 px-3",children:c.error}):"",Object(M.jsx)("div",{className:"mt-5 flex justify-center space-x-3",children:Object(M.jsx)("input",{type:"submit",value:"Log In",className:"px-3 py-1 bg-blue-400 text-white hover:bg-opacity-80",id:"submit"})})]})})]})})},B=function(e){var t=e.setShowModal,r=Object(G.c)((function(e){return e.registration})),c=Object(n.useState)(""),a=Object(D.a)(c,2),i=a[0],o=a[1],l=Object(n.useState)(""),u=Object(D.a)(l,2),d=u[0],p=u[1],j=Object(n.useState)(""),b=Object(D.a)(j,2),f=b[0],m=b[1],v=s.a.useRef(null);Object(n.useEffect)((function(){return window.addEventListener("keydown",x),function(){window.removeEventListener("keydown",x)}}),[]),Object(n.useEffect)((function(){r.registered&&h()}),[r]);var x=function(e){"Escape"===e.key&&h()},h=function(){t(!1),A({type:"REGISTER_RESET"})},A=Object(G.b)();return Object(M.jsx)("div",{onClick:function(e){return function(e){var t;(null===(t=v.current)||void 0===t?void 0:t.contains(e.target))||h()}(e)},className:"bg-black bg-opacity-50 absolute inset-0 flex justify-center items-center",children:Object(M.jsxs)("div",{ref:v,className:"bg-white max-w-sm py-4 px-20 shadow-xl",children:[Object(M.jsx)("div",{className:"flex justify-center items-center",children:Object(M.jsx)("h1",{className:"text-blue-500 font-bold text-xl",children:"Registration"})}),Object(M.jsx)("div",{className:"mt-2 text-sm",children:Object(M.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),A(I({username:i,password:f,email:d}))}(e)},children:[Object(M.jsxs)("div",{className:"mb-4",children:[Object(M.jsx)("label",{className:"block text-gray-600 text-sm font-bold mb-2",htmlFor:"username",children:"Username"}),Object(M.jsx)("input",{className:"shadow appearance-none border  w-full py-2 px-3 text-gray-700 leading-tight  focus:outline-none focus:shadow-outline",id:"username",value:i,onChange:function(e){return o(e.target.value)},type:"text",required:!0,placeholder:"Username"})]}),Object(M.jsxs)("div",{className:"mb-4",children:[Object(M.jsx)("label",{className:"block text-gray-600 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),Object(M.jsx)("input",{className:"shadow appearance-none border  w-full py-2 px-3 text-gray-700 leading-tight  focus:outline-none focus:shadow-outline",id:"email",value:d,onChange:function(e){return p(e.target.value)},type:"email",required:!0,placeholder:"Email"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{className:"block text-gray-600 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),Object(M.jsx)("input",{className:"shadow appearance-none border  w-full py-2 px-3 text-gray-700 leading-tight  focus:outline-none focus:shadow-outline",id:"password",value:f,onChange:function(e){return m(e.target.value)},type:"password",required:!0,placeholder:"Password"})]}),r.failure?Object(M.jsx)("p",{className:"text-red-600 py-2 px-3",children:r.error}):"",Object(M.jsx)("div",{className:"mt-5 flex justify-center space-x-3",children:Object(M.jsx)("input",{id:"submit",type:"submit",value:"Register",className:"font-bold   px-8 py-1 bg-blue-400 text-white hover:bg-opacity-80"})})]})})]})})},Q=r.p+"static/media/cycling.034efe72.jpg",K=r.p+"static/media/logo_small.99417289.png",J=function(e){var t=e.history,r=Object(G.b)(),s=Object(G.c)((function(e){return e.authentication})),c=Object(n.useState)(!1),a=Object(D.a)(c,2),i=a[0],o=a[1],l=Object(n.useState)(!1),u=Object(D.a)(l,2),d=u[0],p=u[1],j=function(e){"Login"===e?o((function(e){return!e})):"Register"===e&&p((function(e){return!e}))};return Object(n.useEffect)((function(){r(C())}),[]),Object(n.useEffect)((function(){s.loggedIn&&s.user.edited&&t.push("/home"),s.loggedIn&&!s.user.edited&&(console.log(s),t.push("/edit-profile"))}),[s]),Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"bg-primary flex w-full justify-between py-1 px-12 absolute",children:[Object(M.jsx)("img",{src:K,className:"max-h-10"}),Object(M.jsx)("div",{className:"navbar__right self-center",children:Object(M.jsx)("button",{id:"login",className:"navbar__link pl-5 text-secondary",onClick:function(){return j("Login")},children:"Anmelden"})})]}),Object(M.jsx)("div",{className:"big-banner h-screen w-full bg-cover",style:{backgroundImage:"url(".concat(Q,")")},children:Object(M.jsxs)("div",{className:"grid grid-cols-2 mx-20 gap-4 text-secondary pt-80",children:[Object(M.jsx)("div",{}),Object(M.jsx)("div",{className:"bg-primary text-lg rounded-md bg-opacity-75 p-3",children:Object(M.jsxs)("p",{children:["Du suchst einen Trainingspartner? Dann bist du hier genau richtig! Finde einen Partner f\xfcr dein n\xe4chstes Workout.",Object(M.jsx)("button",{id:"registration",onClick:function(){return j("Register")},className:"font-bold px-1 navbar__link",children:"Jetzt registrieren"})]})})]})}),d?Object(M.jsx)(B,{setShowModal:p}):"",i?Object(M.jsx)(F,{setShowModal:o}):""]})},z=r(7),H=r(74),W=function(e){var t=e.component,r=Object(H.a)(e,["component"]),s=Object(G.b)();Object(G.c)((function(e){return e.authentication}));Object(n.useEffect)((function(){s(_())}),[]);var c=!!localStorage.getItem("user");return Object(M.jsx)(o.b,Object(z.a)(Object(z.a)({},r),{},{render:function(e){return c?Object(M.jsx)(t,Object(z.a)({},e)):Object(M.jsx)(o.a,{to:"/"})}}))},X="http://localhost:5000/posts",Z=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete(X+"/"+t,{headers:b()});case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.patch(X+"/"+t,r,{headers:b()});case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),Y=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post(X+"/"+t+"/like",r,{headers:b()});case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post(X+"/"+t+"/comment",r,{headers:b()});case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post(X,t,{headers:b()});case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ee={getAll:function(){var e=Object(d.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(X,{headers:b()});case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),like:Y,comment:q,create:$,update:V,remove:Z},te=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GETALL_POSTS_REQUEST"}),console.log("getting posts"),ee.getAll().then((function(e){console.log(e),t({type:"GETALL_POSTS_SUCCESS",posts:e})}),(function(e){console.log(e),t({type:"GETALL_POSTS_FAILURE",error:e})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=function(e,t){return function(){var r=Object(d.a)(u.a.mark((function r(n){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n({type:"CREATE_POST"}),Object(z.a)(Object(z.a)({},e),{},{createdAt:(new Date).toUTCString(),userProfile:[t],likes:[]}),ee.create(e).then((function(e){n(te())}),(function(e){n({type:"CREATE_POST_FAILURE",error:e.response.data.message})}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},ne=function(e,t,r){return function(n){n({type:"COMMENT_POST_REQUEST"}),ee.comment(e,t).then((function(s){n({type:"COMMENT_POST_SUCCESS",id:e,postParam:t,index:r})}),(function(e){n({type:"COMMENT_POST_FAILURE",error:e.response.data.message})}))}},se=function(e,t,r){return function(n){ee.like(e,t).then((function(s){n({type:"LIKE_POST_SUCCESS",id:e,user:t.user,index:r})}),(function(e){n({type:"LIKE_POST_FAILURE",error:e})}))}};var ce=function(e){var t=Object(G.b)(),r=new Date(e.post.createdAt).toLocaleString(),s=Object(n.useState)(""),c=Object(D.a)(s,2),a=c[0],i=c[1],o=JSON.parse(localStorage.getItem("user"));return Object(n.useEffect)((function(){}),[]),Object(M.jsxs)("div",{className:"bg-white mx-64 my-5 border-2 border-gray-50 rounded-lg",children:[Object(M.jsxs)("div",{className:"px-3 py-1",children:[Object(M.jsxs)("span",{className:"text-xl",children:[e.post.userProfile[0].username,", "]}),Object(M.jsx)("span",{children:e.post.userProfile[0].profile.location.city}),Object(M.jsx)("span",{className:"pl-3",children:r})]}),Object(M.jsx)("div",{className:"px-3 pb-1",children:e.post.text}),Object(M.jsxs)("div",{className:"px-3",children:[e.post.likes.includes(o._id)?Object(M.jsx)("div",{className:"text-red-500 inline",children:Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 inline",viewBox:"0 0 20 20",fill:"currentColor",children:Object(M.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})}):Object(M.jsx)("button",{onClick:function(){t(se(e.post._id,{user:o._id},e.index))},children:Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),e.post.likes.length>0?Object(M.jsx)("p",{className:"text-red-500 inline align-middle pl-1",children:e.post.likes.length}):""]}),Object(M.jsx)("div",{className:"my-3 mx-2 border-2 rounded-lg",children:Object(M.jsx)("form",{onSubmit:function(r){return r.preventDefault(),t(ne(e.post._id,{username:o.username,user:o._id,text:a},e.index)),void i("")},children:Object(M.jsx)("input",{className:"w-full p-1",type:"text",placeholder:"Write a comment..",value:a,onChange:function(e){i(e.target.value)}})})}),e.post.comments?e.post.comments.map((function(e,t){return Object(M.jsxs)("div",{className:"my-4 mx-2 bg-gray-100 rounded-lg",children:[Object(M.jsx)("p",{className:"px-2 text-sm font-bold",children:e.username}),Object(M.jsx)("p",{className:"px-3 pb-2 text-sm",children:e.text})]},t)})):""]})},ae=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.posts})).posts,r=JSON.parse(localStorage.getItem("user")),s=Object(n.useState)(""),c=Object(D.a)(s,2),a=c[0],i=c[1];return Object(n.useEffect)((function(){e(te())}),[]),Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"pt-20 bg-gray-100",children:[Object(M.jsx)("div",{className:"bg-white mx-64 my-4 border rounded-lg",children:Object(M.jsx)("form",{onSubmit:function(t){return t.preventDefault(),e(re({user:r._id,text:a},r)),void i("")},children:Object(M.jsx)("input",{className:"p-1 rounded-lg w-full",type:"text",placeholder:"Post something here...",value:a,onChange:function(e){i(e.target.value)}})})}),t?Object(M.jsx)("div",{className:"",children:t.map((function(e,t){return Object(M.jsx)(ce,{index:t,post:e},t)}))}):Object(M.jsx)("div",{children:"Loading"})]})})},ie="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw4NDQ4NDg0NDQ0NDQ0NDQ0NDQ8ODQ0NFREWFhURExMYKDQgGBomGxUfIT0hKCkrLi4uGB8zODMsNzQtLjcBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAMcA/QMBIgACEQEDEQH/xAAbAAEBAAMBAQEAAAAAAAAAAAAABgEEBQIDB//EAD8QAQACAQAFCQMICgIDAAAAAAABAgMEBREhMQYSFkFRUnGR0SJhwRMyQmKBobGyIzNDcnOCg5LC4aLwFFNj/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP2oAAAAAAAAAAAAHnJkrSOda0VrHXaYiAehy8+vdHruibZJ+pXd5y1rcpK9WG0+N4j4A7o4lOUeP6WK8eE1t6N3R9baPk3Rkis9l/Z++dwN4AAAAAAAAAAAAAAAAAAAAAAAAHE19rSafocc7LzHt2jjWJ6o94PprTXVcUzTHsvkjdM/QpPxlOaRpF8tudktNp987o8I6nyAGWAGWABu6DrLLg+bbnU68dt9fs7FPq/WGPSK7a7rR86k/Or6x70Y94M1sdovSebavCf+9QLsamrdOrpGPnRutG69e7b0bYAAAAAAAAAAAAAAAAAAAANbWGlRhxWydcRsrHbaeEIu9ptM2mdszMzMzxmZdzlTn348UcIick+M7o+Pm4IAAAAAAAAN3VOmfIZott9i3s5P3e37OKyQCx1Nn+U0fHM8axzJ8a7vw2A3gAAAAAAAAAAAAAAAAAAASOv77dKv9WKVj+2J+LnOhr2NmlZffzJ/4Q54AAAAAAAACk5LX/RZK9mSJ86/6Taj5LR7GWe29Y8o/wBg7gAAAAAAAAAAAAAAAAAAAJrlPh2ZaZOq9Nn81Z9JhxVhrrRPlsExEbb09unvmOMeXwR4AAAAAAAACt5P4eZo1Znje1r/AGcI+6ExoejzmyVxxxtO+eyvXPkt6UisRWI2RWIiI7IjgD0AAAAAAAAAAAAAAAAAAAAl9fau+TtOWkfo7z7UR9C8/CVQ83rFomsxExMbJid8TAIIdjWmpLY9t8UTfHxmvG9PWHHAAAAAZesWO17RWlZtaeERG2VLqjU8YtmTJstk41rxrT1kHvUervkac+8fpbxvjuV7vi6gAAAAAAAAAAAAAAAAAAAAAAANLTNV4c22bV5tp+nT2bfb1S3QE5n5OXj9XkraOy8TWfu2tW2o9Jj6FZ8L1+KqtlrHG1Y8bRDx/wCVi/8Abj/vqCapqHSJ4xSvjePg3dH5ORxyZJn6tI2ffPo7MaTjnhkxz/PV9K2ieExPhO0Hy0bRceGNmOkVjrmOM+M8ZfYAAAAAAAAAAAAAAAAAAAAAB8NL0umGvPyW2R1RxtaeyITWn65y5dsVmcVOys+1Me+QUGl6zw4d1r7bR9CvtW/19rk6RyjtO7HjiPfeds+UOEA3suttIvxy2r7qbKfhval8t7fOva371pn8XgA2AADLAPvj0vLT5uXJXwvbZ5NzDrzSK8bVvH16x+MOYyCj0blFSd2SlqfWr7VfX8XWwaRTLHOpet4908PGOpCveLJalotS01tHCazskF4ODq7X23ZTPsjqjJEbv5o6vF3YnbG2N8TviY4TAMgAAAAAAAAAAAAANbWGm1wY5vbfPCteu1uxsTOzfO6I3zPZCN1pps58s2+hHs447K9vjIPjpek3zXm952zPCOqsdkR2PiAAAAAAAAMgwDIMAyDDq6n1rOGYpeZnFM+M457Y93uctgF9E7Y2xvid8THCYZcLk3p22JwWnfWOdjn6vXX7HdAAAAAAAAAAAABzeUGkfJ6PMRxyTGP7J3z90bPtSSh5VTuwx1bck/l9U+DAywAAAAAAAAAAAAAAD66LnnFkpkj6FonxjrjyXMTt3xwnfHggVvq+duDDP/yx/lgGwAAAAAAAAAAADgcqv2H9X/FPqDlX+w/q/wCKfAAAAAAAAAAAABlgAAAFtq79Rh/hY/ywiVtq79Rh/hY/ywDZAAAAAAAAAAABwOVf7D+r/i4Cy1jq6mkczn2vXmc7Zzdm/bs47fBpdHcPfy+dPQEyKbo7h7+Xzp6HR3D38vnT0BMim6O4e/l86eh0dw9/L509ATIpujuHv5fOnodHcPfy+dPQEyKbo7h7+Xzp6HR3D38vnT0BMim6O4e/l86eh0dw9/L509ATIpujuHv5fOnodHcPfy+dPQEyKbo7h7+Xzp6HR3D38vnT0BMim6O4e/l86eh0dw9/L509ATK21d+ow/wsf5Yc/o7h7+Xzp6OtgxRSlaRtmKVrWJnjsiNm8HsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//Z",oe=function(e){var t=e.history,r=Object(G.b)(),s=Object(G.c)((function(e){return e.nearUsers}));Object(n.useEffect)((function(){r(L())}),[]);return s.user?Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"pt-20",children:[Object(M.jsx)("h1",{className:"text-gray-700 text-2xl px-4 py-5",children:"Nearby Users"}),Object(M.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-6 py-2 px-8",children:s.user.map((function(e,r){return Object(M.jsxs)("div",{className:"overflow-hidden shadow-lg transform transition duration-500 hover:scale-110 cursor-pointer",onClick:function(){t.push("/profile/".concat(null===e||void 0===e?void 0:e._id))},children:[Object(M.jsx)("img",{className:"w-full max-h-28 object-contain",src:e.profileImage?e.profileImage:ie}),Object(M.jsxs)("div",{className:"py-4 px-4",children:[Object(M.jsxs)("div",{className:"font-bold text-xl",children:[e.username,Object(M.jsx)("span",{className:"font-ligh text-sm text-gray-700 pl-3",children:e.profile.location.city})]}),Object(M.jsx)("p",{className:"text-gray-700",children:e.profile.bios})]}),Object(M.jsx)("div",{className:"px-4 py-4",children:e.profile.sports.map((function(e,t){return Object(M.jsx)("span",{className:"bg-gray-200 px-2 py-2 mx-3 inline-block",children:e},t)}))})]},r)}))})]})}):Object(M.jsx)("div",{children:Object(M.jsx)("div",{children:"Loading"})})},le=r(16),ue=r(72),de=r.n(ue)()("localhost:3030");de.connect();var pe=S.getStoredUserName()?S.getStoredUserName():"";de.emit("new user",pe);r(135);var je={username:"all",userID:"all",dbUserID:"all"},be=function(){var e,t,r=Object(n.useState)(""),s=Object(D.a)(r,2),c=s[0],a=s[1],i=Object(n.useState)([]),o=Object(D.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)([]),p=Object(D.a)(d,2),j=p[0],b=p[1],f=Object(n.useState)(null),m=Object(D.a)(f,2),v=m[0],x=m[1],h=S.getStoredUserName(),A=Object(n.useState)(""),O=Object(D.a)(A,2),g=O[0],w=O[1],y=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=S.getStoredUserId();w(e),de.emit("new user",h,e)}),[]),Object(n.useEffect)((function(){de.on("user connected",(function(e){b((function(t){var r=Object(le.a)(t);return-1===r.findIndex((function(t){return(null===t||void 0===t?void 0:t.userID)===(null===e||void 0===e?void 0:e.userID)}))&&r.push(e),r}))}));var e=function(e){var t=e.username,r=e.message,n=e.sender,s=e.receiver,c=e.chat;u((function(e){var a,i=Object(le.a)(e);if(-1!==(a=e.findIndex((function(e){return e.chat===c})))){var o=Object(le.a)(e[a].chatMessages);return o.push({username:t,message:r,sender:n,receiver:s}),i[a]=Object(z.a)(Object(z.a)({},i[a]),{},{chatMessages:o}),i}return i.push({chat:c,chatMessages:[{username:t,message:r,sender:n,receiver:s}]}),i}))};return de.on("private message",(function(t){var r=t.username,n=t.message,s=t.sender,c=t.receiver,a=t.chat;e({username:r,receiver:c,sender:s,message:n,chat:a})})),de.on("private message sent",(function(t){var r=t.username,n=t.message,s=t.sender,c=t.receiver,a=t.chat;console.log("receiver: "+c),console.log("dbUserID: "+g),console.log(j),e({username:r,receiver:c,sender:s,message:n,chat:a})})),de.on("users",(function(e){b((function(){var t=[];return e.forEach((function(e){e.dbUserID!==g&&t.push(e)})),t}))})),de.on("chat message",(function(t){var r=t.username,n=t.sender,s=t.message,c=t.receiver,a=t.chat;e({username:r,receiver:c,sender:n,message:s,chat:a})})),function(){de.disconnect()}}),[]);var N=function(){v?0!==c.length&&("all"===v.userID?de.emit("chat message",{username:h,msg:c,sender:g,receiver:v.userID,chat:v.dbUserID}):de.emit("private message",{username:h,msg:c,sender:g,receiver:v.userID,chat:v.dbUserID}),a("")):alert("Message could not be sent. Please select a user.")};return Object(M.jsxs)("div",{className:"flex w-100 chat-container m-auto border-2 h-4/6",onClick:function(e){return function(e){var t;null===(t=y.current)||void 0===t||t.contains(e.target)}(e)},children:[Object(M.jsxs)("div",{className:"".concat(v?"hidden":""," flex sm:flex flex-col flex-1 border-r-2 p-4"),ref:y,children:[Object(M.jsx)("div",{children:"Users:"}),Object(M.jsx)("div",{className:"p-4 w-full cursor-pointer ".concat("all"===(null===v||void 0===v?void 0:v.dbUserID)?"active":""),onClick:function(){return x(je)},children:"all"}),j&&j.length>0?j.map((function(e,t){return g===e.dbUserID?null:Object(M.jsx)("div",{className:"p-4 w-full cursor-pointer ".concat((null===v||void 0===v?void 0:v.dbUserID)===e.dbUserID?"active":""),onClick:function(){return x(e)},children:Object(M.jsx)("div",{className:"flex",children:Object(M.jsx)("div",{className:"",children:e.username})})},t)})):null]}),Object(M.jsxs)("div",{className:"".concat(v?"flex":"hidden"," sm:flex flex-col flex-2 p-4"),children:[v?Object(M.jsxs)("div",{className:"justify-center flex relative items-center border-2 w-full",children:[Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",className:"absolute left-0 sm:hidden",onClick:function(){x(null)},children:Object(M.jsx)("path",{d:"M10 12.796V3.204L4.519 8 10 12.796zm-.659.753-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z"})}),Object(M.jsx)("div",{className:"font-bold m-auto",children:null===v||void 0===v?void 0:v.username})]}):null,Object(M.jsx)("div",{className:"message-container h-full pt-2",children:l&&l.length>0?null===(e=l[l.findIndex((function(e){return e.chat===(null===v||void 0===v?void 0:v.dbUserID)}))])||void 0===e||null===(t=e.chatMessages)||void 0===t?void 0:t.map((function(e,t){return Object(M.jsx)("div",{className:"w-full",children:e.sender===g?Object(M.jsx)("div",{className:"flex justify-end mb-2",children:Object(M.jsx)("div",{className:"mr-3 message-send",children:e.message})}):Object(M.jsx)("div",{className:"flex",children:Object(M.jsxs)("div",{className:"message-received mr-3 flex flex-col mb-2",children:[Object(M.jsxs)("div",{children:[e.username,":"]}),Object(M.jsx)("div",{children:e.message})]})})},t)})):null}),Object(M.jsxs)("div",{className:"flex border-2 justify-between message-input-container",children:[Object(M.jsx)("input",{className:"flex-1",value:c,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){return function(e){"Enter"===e&&N()}(e.key)},type:"text",placeholder:"Message",id:"username"}),Object(M.jsx)("button",{onClick:function(){N()},children:"Send"})]})]})]})},fe=r.p+"static/media/wallpapersden.com_tony-hawk-s-pro-skater-1-remaster_wxl.341d2652.jpg",me=(r(46),r(71),function(e){var t,r,s,c,a,i=e.history,o=Object(G.b)(),l=S.getStoredUserId(),u=Object(G.c)((function(e){var t;return null===(t=e.users)||void 0===t?void 0:t.user}));return Object(n.useEffect)((function(){o(T(l))}),[]),u?Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"w-full mb-6 background",style:{backgroundImage:"url(".concat(fe,")")}}),Object(M.jsxs)("div",{className:"content",children:[Object(M.jsx)("img",{className:"rounded profile__image -mt-32",src:u.profileImage?u.profileImage:ie}),Object(M.jsxs)("div",{className:"flex mt-4 justify-between w-full",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"font-bold text-xl",children:null===u||void 0===u?void 0:u.username}),null===u||void 0===u||null===(t=u.profile)||void 0===t||null===(r=t.sports)||void 0===r?void 0:r.map((function(e,t){return Object(M.jsx)("span",{className:"bg-gray-200 px-2 py-2 inline-block mr-3 mt-3 rounded-lg",children:e},t)})),Object(M.jsx)("div",{className:"mt-2 text-xl",children:null===u||void 0===u||null===(s=u.profile)||void 0===s||null===(c=s.location)||void 0===c?void 0:c.city})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"mt-2 text-base cursor-pointer",onClick:function(){i.push("/edit-profile")},children:"Edit"}),Object(M.jsx)("div",{className:"mt-2 text-lg font-bold",children:"Age"}),Object(M.jsx)("div",{className:"mt-2",children:null===u||void 0===u||null===(a=u.profile)||void 0===a?void 0:a.age})]})]})]})]}),Object(M.jsx)("div",{className:"profile__interests",children:Object(M.jsx)("div",{})})]}):null}),ve=function(e){var t,r,s,c=e.history,a=Object(G.b)(),i=Object(o.g)().userid,l=Object(G.c)((function(e){var t;return null===(t=e.users)||void 0===t?void 0:t.user}));return Object(n.useEffect)((function(){i?i===S.getStoredUserId()?c.push("/profile"):a(T(i)):alert("no user found")}),[]),l?Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"w-full mb-6 background",style:{backgroundImage:"url(".concat(fe,")")}}),Object(M.jsxs)("div",{className:"content",children:[Object(M.jsx)("img",{className:"rounded profile__image -mt-32",src:l.profileImg?l.profileImg:ie}),Object(M.jsxs)("div",{className:"flex mt-4 justify-between w-full",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"font-bold text-xl",children:null===l||void 0===l?void 0:l.username}),null===l||void 0===l||null===(t=l.profile)||void 0===t||null===(r=t.sports)||void 0===r?void 0:r.map((function(e,t){return Object(M.jsx)("span",{className:"bg-gray-200 px-2 py-2 inline-block mr-3 mt-3 rounded-lg",children:e},t)}))]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"mt-2 text-lg font-bold",children:"Age"}),Object(M.jsx)("div",{className:"mt-2",children:null===l||void 0===l||null===(s=l.profile)||void 0===s?void 0:s.age})]})]})]}),Object(M.jsx)("div",{className:"profile__interests",children:Object(M.jsx)("div",{})})]}):null},xe=r(24),he=function(e){var t,r,c,a,i=e.history,o=Object(G.b)(),l=S.getStoredUser(),p=Object(n.useState)(null===l||void 0===l?void 0:l.profile),b=Object(D.a)(p,2),f=b[0],m=b[1],v=s.a.useState(),x=Object(D.a)(v,2),h=x[0],A=x[1],O=s.a.useState(),g=Object(D.a)(O,2),w=g[0],y=g[1],N=s.a.useState(),E=Object(D.a)(N,2),I=E[0],k=E[1],_=s.a.useState(!1),C=Object(D.a)(_,2),R=C[0],L=C[1];Object(n.useEffect)((function(){m(l)}),[l]),Object(n.useEffect)((function(){R&&T()}),[f]);var T=function(){w&&J(),o(P(f)),setTimeout((function(){i.push("/profile")}),2e3)},F=function(e,t,r){e.preventDefault();var n=e.target,s=n.value,c=n.name;m((function(e){var n=Object(z.a)({},e);if(t)if(r){var a=Object(z.a)({},e.profile);Object.assign(a,{location:Object(xe.a)({},c,s)}),Object.assign(n,{profile:a})}else{var i=Object(z.a)({},e.profile);Object.assign(i,Object(xe.a)({},c,s)),Object.assign(n,{profile:i})}else Object.assign(n,Object(xe.a)({},c,s));return n}))},B=function(e){if(!e)return alert("city not found"),void L(!1);!0!==e?(console.log(e),m((function(t){var r,n=Object(z.a)({},t),s=Object(z.a)({},t.profile),c=Object(z.a)({},null===(r=t.profile)||void 0===r?void 0:r.location),a={type:"Point",coordinates:[e.latitude,e.longitude]};return Object.assign(c,{loc:a,country:e.country}),Object.assign(s,{location:c}),Object.assign(n,{profile:s}),n}))):T()},Q=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),new Promise((function(e,t){var r,n,s=null===f||void 0===f||null===(r=f.profile)||void 0===r||null===(n=r.location)||void 0===n?void 0:n.city;s?j.a.get("http://geodb-free-service.wirefreethought.com/v1/geo/cities?namePrefix=".concat(s)).then((function(r){var n,c;r?((null===(n=r.data)||void 0===n?void 0:n.data).forEach((function(e){(null===e||void 0===e?void 0:e.city)===s&&(c=e)})),c?(console.log("true"),e(c)):t("city not found")):t("city not found")})):e(!0)})).then(B).catch((function(e){return alert(e),void L(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e){var t=new FileReader;t.addEventListener("load",(function(){this.result&&(k(this.result),y(!0))})),t.readAsDataURL(e)},J=function(){var e=new FormData;e.append("file",h),o(U(e))};return f?Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"border-2 p-4 max-w-4xl m-auto light-blue-background rounded-lg",children:[Object(M.jsxs)("div",{className:"text-xl underline font-bold text-center pb-3",children:["Profile Info"," "]}),Object(M.jsxs)("div",{className:"",children:[Object(M.jsxs)("div",{className:"flex sm:flex-row items-end",children:[Object(M.jsx)("img",{className:"rounded  mt-2 w-28 h-28 border-black",src:I||((null===f||void 0===f?void 0:f.profileImage)?null===f||void 0===f?void 0:f.profileImage:ie)}),Object(M.jsxs)("label",{className:"mx-2 cursor-pointer flex items-center",htmlFor:"image-selector__file-upload-input",children:[Object(M.jsx)("div",{className:"mr-2 text-base font-bold cursor-pointer",children:"Edit"}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(M.jsx)("path",{d:"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"})})]}),Object(M.jsx)("input",{type:"file",className:"hidden",id:"image-selector__file-upload-input",accept:"image/png, image/gif, image/jpeg",onChange:function(e){return function(e){var t=e.target.files;t&&(A(t[0]),K(t[0]))}(e)}})]}),Object(M.jsxs)("form",{onSubmit:function(e){return Q(e)},className:"mt-8",children:[Object(M.jsxs)("div",{className:"flex",children:[Object(M.jsx)("div",{className:"aside mr-3 sm:mr-10 font-bold text-lg",children:"Username:"}),Object(M.jsx)("div",{children:null===f||void 0===f?void 0:f.username})]}),Object(M.jsx)("div",{className:"border-t border-current mt-2"}),Object(M.jsxs)("div",{className:"flex  mt-2",children:[Object(M.jsx)("div",{className:"aside mr-3 sm:mr-10 font-bold text-lg",children:"Age:"}),Object(M.jsx)("input",{className:"flex-grow text-black mr-3 sm:mr-10 bg-transparent cursor-pointer",name:"age",type:"number",value:null===f||void 0===f||null===(t=f.profile)||void 0===t?void 0:t.age,onChange:function(e){F(e,!0)},id:"age_input"}),Object(M.jsxs)("label",{className:"flex items-center cursor-pointer",htmlFor:"age_input",children:[Object(M.jsx)("div",{className:"mr-2 text-base font-bold",children:"Edit"}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(M.jsx)("path",{d:"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"})})]})]}),Object(M.jsx)("div",{className:"border-t border-current mt-2"}),Object(M.jsxs)("div",{className:"flex mt-2",children:[Object(M.jsx)("div",{className:"aside mr-3 sm:mr-10 font-bold text-lg",children:"Sports:"}),Object(M.jsx)("input",{className:"flex-grow text-black mr-3 sm:mr-10 bg-transparent cursor-pointer",type:"sports",name:"sports",id:"sports_input",value:null===f||void 0===f||null===(r=f.profile)||void 0===r?void 0:r.sports,onChange:function(e){F(e,!0)}}),Object(M.jsxs)("label",{className:"flex items-center cursor-pointer",htmlFor:"sports_input",children:[Object(M.jsx)("div",{className:"mr-2 text-base font-bold",children:"Edit"}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(M.jsx)("path",{d:"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"})})]})]}),Object(M.jsx)("div",{className:"border-t border-current mt-2"}),Object(M.jsxs)("div",{className:"flex mt-2",children:[Object(M.jsx)("div",{className:"aside mr-3 sm:mr-10 font-bold text-lg",children:"City:"}),Object(M.jsx)("input",{className:"flex-grow text-black mr-3 sm:mr-10 bg-transparent cursor-pointer",type:"text",name:"city",value:null===f||void 0===f||null===(c=f.profile)||void 0===c||null===(a=c.location)||void 0===a?void 0:a.city,onChange:function(e){F(e,!0,!0)},id:"location_input"}),Object(M.jsxs)("label",{className:"flex items-center cursor-pointer",htmlFor:"location_input",children:[Object(M.jsx)("div",{className:"mr-2 text-base font-bold",children:"Edit"}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(M.jsx)("path",{d:"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"})})]})]}),Object(M.jsx)("div",{className:"border-t border-current mt-2"}),Object(M.jsx)("div",{className:"flex justify-center",children:Object(M.jsx)("input",{type:"submit",value:"Save",className:"p-3 font-bold rounded-lg mt-3 light-orange-background cursor-pointer",onClick:function(){L(!0)}})})]})]})]})}):null},Ae=(r(136),function(){var e=Object(G.b)(),t=S.getStoredUser(),r=Object(n.useState)(!1),s=Object(D.a)(r,2),c=s[0],a=s[1],o=Object(n.useRef)(null);return t?Object(M.jsxs)("div",{className:"w-full light-orange-background p-2 flex justify-between items-center",children:[Object(M.jsx)(i.b,{to:"/home",children:"Home"}),Object(M.jsx)(i.b,{to:"/nearUsers",children:"Near Users"}),Object(M.jsx)(i.b,{to:"/chat",children:"Chat"}),Object(M.jsxs)("div",{className:"dropdown ".concat(c?"dropdown--open":""),ref:o,onClick:function(){a(!c)},children:[Object(M.jsxs)("div",{className:"flex items-end cursor-pointer",children:[Object(M.jsx)("img",{className:"rounded  mt-2 w-10 h-10 border-black mr-4",src:(null===t||void 0===t?void 0:t.profileImage)?null===t||void 0===t?void 0:t.profileImage:ie}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",className:"dropdown__arrow",children:Object(M.jsx)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})})]}),Object(M.jsxs)("div",{className:"rounded-md flex-col absolute mt-3 right-0 p-3 mr-1 light-blue-background hidden dropdown__navigation",children:[Object(M.jsx)(i.b,{to:"/edit-profile",className:"p-2",children:"Edit"}),Object(M.jsx)(i.b,{to:"/profile",className:"p-2",children:"me"}),Object(M.jsx)("a",{onClick:function(){e(R())},className:"cursor-pointer p-2",children:"Log Out"})]})]})]}):null});var Oe=function(){return Object(M.jsx)(i.a,{children:Object(M.jsx)(i.a,{children:Object(M.jsxs)(o.d,{children:[Object(M.jsx)(o.b,{path:"/",exact:!0,component:J}),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ae,{}),Object(M.jsx)(W,{path:"/edit-profile",exact:!0,component:he}),Object(M.jsx)(W,{path:"/profile",exact:!0,component:me}),Object(M.jsx)(W,{path:"/profile/:userid",exact:!0,component:ve}),Object(M.jsx)(W,{path:"/nearUsers",exact:!0,component:oe}),Object(M.jsx)(W,{path:"/chat",exact:!0,component:be}),Object(M.jsx)(W,{path:"/home",exact:!0,component:ae})]})]})})})},ge=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,138)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),n(e),s(e),c(e),a(e)}))},we=r(25),ye=r(73),Ne=localStorage.getItem("user"),Se=Ne?{loggedIn:!0,user:Ne}:{},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NEAR_SUCCESS":return t.users;case"GET_NEAR_ERROR":return{error:t.error};default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETALL_POSTS_SUCCESS":return{posts:t.posts};case"GETALL_ERROR":return{error:t.error};case"CREATE_POST_SUCCESS":return console.log({posts:t.post}),{posts:t.post};case"COMMENT_POST_SUCCESS":var r=e.posts[t.index];return r.comments=[].concat(Object(le.a)(r.comments),[t.postParam]),Object(z.a)(Object(z.a)({},e),{},{posts:[].concat(Object(le.a)(e.posts.slice(0,t.index)),[r],Object(le.a)(e.posts.slice(t.index+1)))});case"LIKE_POST_SUCCESS":var n=e.posts[t.index];return n.likes=[].concat(Object(le.a)(n.likes),[t.user]),Object(z.a)(Object(z.a)({},e),{},{posts:[].concat(Object(le.a)(e.posts.slice(0,t.index)),[n],Object(le.a)(e.posts.slice(t.index+1)))});default:return e}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETALL_REQUEST":return{loading:!0};case"GETALL_SUCCESS":return{users:t.users};case"GETALL_ERROR":return{error:t.error};case"GET_BYID_SUCCESS":return{user:t.user};case"GET_BYID_FAILURE":return{error:t.error};default:return e}},_e=Object(we.b)({users:ke,authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return{loggingIn:!0,user:t.user};case"LOGIN_SUCCESS":return{loggedIn:!0,user:t.user};case"LOGIN_FAILURE":return{failure:!0,error:t.error};case"LOGOUT":return{loggedIn:!1};case"LOGIN_RESET":return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_REQUEST":return{registering:!0};case"REGISTER_SUCCESS":return{registered:!0};case"REGISTER_FAILURE":return{failure:!0,error:t.error};case"REGISTER_RESET":return{};default:return e}},nearUsers:Ee,posts:Ie}),Ce="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||we.c,Re=Object(we.d)(_e,Ce(Object(we.a)(ye.a)));a.a.render(Object(M.jsx)(G.a,{store:Re,children:Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(Oe,{})})}),document.getElementById("root")),ge()},46:function(e,t,r){},71:function(e,t,r){},79:function(e,t,r){},80:function(e,t,r){}},[[137,1,2]]]);
//# sourceMappingURL=main.284a4e31.chunk.js.map